:root{--controls-space:220px}
@media (max-width:768px){:root{--controls-space:10px}}
html,body{height:100%;margin:0}
body{background:#f5f5f4;font-family:-apple-system,BlinkMacSystemFont,"Segoe UI",Roboto,"Helvetica Neue",Arial,"Noto Sans",sans-serif;color:#1f2937}
.app{position:relative;width:100%;height:100vh;display:flex;flex-direction:column;overflow:hidden}
.topbar{position:absolute;top:0;left:0;right:0;padding:16px;z-index:20;display:flex;justify-content:space-between;align-items:flex-start;pointer-events:none}
.titlebox{display:flex;gap:8px;align-items:center;background:rgba(255,255,255,0.9);backdrop-filter:saturate(150%) blur(6px);box-shadow:0 2px 8px rgba(0,0,0,0.08);padding:8px 16px;border-radius:999px;pointer-events:auto}
.title{font-weight:700;color:#065f46;font-size:18px}
.fullscreen-btn{font-size: 2rem;pointer-events:auto;background:rgba(255,255,255,0.9);backdrop-filter:saturate(150%) blur(6px);box-shadow:0 2px 8px rgba(0,0,0,0.12);padding:8px 16px;border-radius:999px;color:#374151;border:none;cursor:pointer}
.fullscreen-btn:hover{background:#f3f4f6}
.main{flex:1;width:100%;height:100%;position:relative;display:flex;align-items:flex-start;justify-content:center}
.canvas-wrap{width:100%;height:calc(100% - var(--controls-space));max-width:1600px;max-height:1000px;padding:8px;display:flex;align-items:flex-start;justify-content:center}
.controls{position:absolute;bottom:24px;left:50%;transform:translateX(-50%);z-index:20;width:100%;max-width:768px;padding:0 16px;pointer-events:none}
.controls-inner{background:rgba(255,255,255,0.95);backdrop-filter:saturate(150%) blur(10px);box-shadow:0 10px 25px rgba(0,0,0,0.1);border-radius:20px;padding:16px;border:1px solid #d1fae5;display:flex;flex-direction:column;gap:16px;pointer-events:auto}
.row{display:flex;flex-direction:column;gap:16px}
@media (min-width:768px){.row{flex-direction:row;align-items:center;justify-content:space-between}}
.mode{display:flex;gap:8px;background:#f3f4f6;padding:6px;border-radius:12px}
.btn{border:none;border-radius:12px;padding:8px 16px;font-size:14px;font-weight:700;cursor:pointer;transition:transform .05s ease,background .2s ease;color:#6b7280;background:transparent}
.btn:hover{color:#374151}
.btn.selected{background:#10b981;color:#fff;box-shadow:0 1px 2px rgba(0,0,0,0.08)}
.btn.alt.selected{background:#fff;color:#ef4444}
.status{flex:1;text-align:center;min-width:150px}
.status span{font-family:ui-monospace,SFMono-Regular,Menlo,Monaco,Consolas,monospace;font-weight:700}
.status .value{color:#059669;font-size:24px}
.actions{display:flex;gap:8px}
.icon-btn{padding:12px 16px;font-size: 1.2rem;border-radius:12px;background:#e5e7eb;color:#374151;border:none;cursor:pointer;transition:transform .05s ease,background .2s ease}
.icon-btn:hover{background:#d1d5db}
.play{display:flex;align-items:center;gap:8px;padding:12px 24px;border-radius:12px;font-weight:700;color:#fff;border:none;cursor:pointer;transition:transform .05s ease,background .2s ease;box-shadow:0 8px 16px rgba(16,185,129,0.35)}
.play.start{background:#059669}
.play.start:hover{background:#047857}
.play.pause{background:#fb923c}
.play.pause:hover{background:#f59e0b}
.slider-row{display:flex;align-items:center;gap:12px;padding:0 8px}
.slider-row .label{font-size:12px;font-weight:700;color:#9ca3af}
input[type="range"]{width:100%;height:8px;background:#e5e7eb;border-radius:8px;appearance:none;cursor:pointer}
input[type="range"]::-webkit-slider-thumb{appearance:none;width:18px;height:18px;border-radius:50%;background:#10b981;border:2px solid #fff;box-shadow:0 1px 3px rgba(0,0,0,0.2)}
input[type="range"]::-moz-range-thumb{width:18px;height:18px;border-radius:50%;background:#10b981;border:2px solid #fff;box-shadow:0 1px 3px rgba(0,0,0,0.2)}
svg{width:100%;height:100%}