<!DOCTYPE html>
<html lang="zh">
<head>
    <meta charset="UTF-8">
    <title>ËØçËØ≠Âê¨ÂÜô</title>
    <meta name="referrer" content="no-referrer">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link
    rel="icon"
    href="data:image/svg+xml,<svg xmlns=%22http://www.w3.org/2000/svg%22 viewBox=%220 0 100 100%22><text x=%2250%%22 y=%2250%%22 style=%22dominant-baseline:central;text-anchor:middle;font-size:90px;%22>üëÇ</text></svg>"
  />
  <link rel="preconnect" href="https://static.zeoseven.com" crossorigin />
  <link rel="stylesheet" href="https://static.zeoseven.com/zsft/5/main/result.css" />
  
    <style>
        :root {
            --primary-color: #2563eb;
            --bg-color: #f8fafc;
            --text-color: #1e293b;
            --transition-time: 0.3s;
        }

        * {
            box-sizing: border-box;
            margin: 0;
            padding: 0;
        }

        body {
            font-family: "Microsoft YaHei",system-ui, -apple-system, sans-serif;
            background-color: var(--bg-color);
            color: var(--text-color);
            line-height: 1.5;
            min-height: 100vh;
            padding: 20px;
        }
        .lesson-words,.word-display{
            font-family: 'ChillKai',Baskerville, Georgia, "Liberation Serif", "Kaiti SC", STKaiti, "AR PL UKai CN", "AR PL UKai HK", "AR PL UKai TW", "AR PL UKai TW MBE", "AR PL KaitiM GB", KaiTi, KaiTi_GB2312, DFKai-SB, "TW\-Kai", serif;
            font-weight:'400';
        }
        .container {
            width: 100%;
            max-width: 1000px;
            margin: 0 auto;
            background: white;
            padding: 2rem;
            border-radius: 16px;
            box-shadow: 0 4px 6px -1px rgb(0 0 0 / 0.1);
        }

        h2 {
            font-size: 2.5rem;
            margin-bottom: 1.5rem;
            color: var(--primary-color);
            text-align: center;
        }

        textarea {
            width: 100%;
            min-height: 150px;
            max-height: 500px;
            padding: 1rem;
            border: 2px solid #e2e8f0;
            border-radius: 12px;
            font-size: 1.25rem;
            margin-bottom: 1.5rem;
            resize: none;
            transition: border-color 0.2s;
        }

        textarea:focus {
            outline: none;
            border-color: var(--primary-color);
        }

        .controls {
            display: flex;
            gap: 1.5rem;
            align-items: center;
            flex-wrap: wrap;
            justify-content: center;
        }

        button {
            padding: 0.75rem 2rem;
            font-size: 1.25rem;
            border: none;
            border-radius: 8px;
            cursor: pointer;
            transition: transform 0.2s, opacity 0.2s;
            font-weight: 500;
        }

        button:active {
            transform: scale(0.98);
        }

        .toggle-btn {
            background: var(--primary-color);
            color: white;
            min-width: 140px;
        }

        .toggle-btn.reading {
            background: #ef4444;
        }

        .pause-time {
            display: flex;
            align-items: center;
            gap: 0.75rem;
            background: #f1f5f9;
            padding: 0.5rem 1rem;
            border-radius: 8px;
        }

        input[type="number"] {
            width: 80px;
            padding: 0.5rem;
            border: 1px solid #e2e8f0;
            border-radius: 6px;
            font-size: 1rem;
        }

        #currentWord {
            margin-top: 1.5rem;
            text-align: center;
            font-size: 1.5rem;
            min-height: 2.5rem;
            color: var(--primary-color);
        }

        .nav {
            display: flex;
            gap: 1rem;
            margin-bottom: 2rem;
            flex-wrap: wrap;
            justify-content: center;
            transition: transform var(--transition-time), opacity var(--transition-time);
        }

        .nav button {
            padding: 0.8rem 1.5rem;
            background: #e2e8f0;
            color: var(--text-color);
            border-radius: 8px;
            transition: all var(--transition-time);
        }

        .nav button.active,.lesson-btn.active {
            background: var(--primary-color);
            color: white;
        }

        .lessons {
            opacity: 0;
            transform: translateY(20px);
            transition: all var(--transition-time);
            margin-bottom: 1rem;
        }

        .lessons.show {
            opacity: 1;
            transform: translateY(0);
        }

        .lesson-btn {
            padding: 0.8rem;
            background: none;
            color: var(--text-color);
            border-radius: 8px;
            font-size: 1.1rem;
            font-weight: 500;
            text-align: center;
        }

        .lesson-words {
            font-size: 2.8rem;
            line-height: 1.8;
            color: var(--text-color);
            white-space: pre-wrap;
            word-break: break-all;
            transition: opacity 0.3s;
        }

        .lesson-words.reading {
            opacity: 0;
        }

        .icon {
            width: 24px;
            height: 24px;
            transition: transform 0.2s;
        }

        .icon path {
            fill: currentColor;
        }

        #lessonContent {
            display: none;
        }

        #lessonContent.active {
            display: block;
        }

        .fixed-controls {
            position: fixed;
            bottom: 0;
            left: 0;
            right: 0;
            background: white;
            box-shadow: 0 -2px 10px rgba(0, 0, 0, 0.1);
            padding: 1rem;
            display: flex;
            justify-content: center;
            align-items: center;
            gap: 1.5rem;
            z-index: 1000;
            grid-template-columns: auto auto;
        }

        .fixed-controls button {
            display: flex;
            align-items: center;
            gap: 0.5rem;
            padding: 0.75rem 1.5rem;
        }

        .fixed-controls .pause-time {
            background: transparent;
        }

        .bi {
            font-size: 1.4em;
        }

        .overlay {
            position: fixed;
            top: 0;
            left: 0;
            right: 0;
            bottom: 0;
            background: rgba(0, 0, 0, 0.5);
            display: none;
            justify-content: center;
            align-items: flex-end;
            padding-bottom: 100px; /* ‰∏∫Â∫ïÈÉ®ÊéßÂà∂Ê†èÁïôÂá∫Á©∫Èó¥ */
            z-index: 999;
        }

        .input-area {
            background: white;
            padding: 1.5rem;
            border-radius: 16px;
            width: 90%;
            max-width: 800px;
            display: none;
            box-shadow: 0 4px 20px rgba(0, 0, 0, 0.15);
        }

        .input-area.show {
            display: block;
        }

        .overlay.show {
            display: flex;
        }

        .fixed-controls {
            display: grid;
            grid-template-columns: auto auto auto;
            gap: 1rem;
            align-items: center;
            justify-content: center;
        }

        .lesson-content {
            padding: 10px;
            background: #f8fafc;
            border-radius: 12px;
            border: 1px solid #e2e8f0;
        }

        .lesson-title {
            display: flex;
            align-items: center;
            gap: 1rem;
            font-weight: 600;
            margin-bottom: 1.5rem;
            color: var(--text-color);
            justify-content: space-between;
        }

        .title-controls {
            display: flex;
            align-items: center;
            gap: 1.5rem;
        }

        .pause-control {
            display: flex;
            align-items: center;
            gap: 0.5rem;
            background: #f1f5f9;
            border-radius: 8px;
            margin: 1rem 0;
        }

        .lesson-title button {
            padding: 0.5rem 1rem;
            font-size: 1.2rem;
            display: flex;
            align-items: center;
            gap: 0.5rem;
            background: var(--primary-color);
            color: white;
            border-radius: 8px;
        }

        .lesson-title button.reading {
            background: #ef4444;
        }

        .pause-control label {
            font-size: 1rem;
            color: var(--text-color);
            opacity: 0.8;
        }

        input[type="range"] {
            -webkit-appearance: none;
            width: 120px;
            height: 6px;
            background: #e2e8f0;
            border-radius: 3px;
            outline: none;
        }

        input[type="range"]::-webkit-slider-thumb {
            -webkit-appearance: none;
            width: 20px;
            height: 20px;
            background: var(--primary-color);
            border-radius: 50%;
            cursor: pointer;
            box-shadow: 0 2px 6px rgba(0,0,0,0.1);
        }

        .word-overlay {
            position: fixed;
            top: 0;
            left: 0;
            right: 0;
            bottom: 0;
            background: rgba(106, 106, 106, 0.9);
            display: none;
            justify-content: center;
            align-items: center;
            z-index: 1000;
            opacity: 0;
            transition: opacity 0.3s ease;
        }

        .word-overlay.show {
            display: flex;
            opacity: 1;
        }

        .word-display {
            font-size: min(40vh, 40vw);
            padding: 2rem;
            text-align: center;
            max-width: 100vw;
            word-break: break-all;
            color: white;
            transition: font-size 0.3s ease;
        }

        .word-display[data-length="2"] {
            font-size: min(40vh, 40vw);
        }
        
        .word-display[data-length="3"] {
            font-size: min(35vh, 35vw);
        }
        
        .word-display[data-length="4"] {
            font-size: min(30vh, 30vw);
        }

        /* Ê∑ªÂä†Âπ≥ÊªëÊªöÂä® */
        html {
            scroll-behavior: smooth;
        }

        /* ‰ºòÂåñÁßªÂä®Á´ØÊ†∑Âºè */
        @media (max-width: 640px) {
            body{
                padding: 1rem;
            }
            .pause-control {
                flex-direction: column;
                align-items: stretch;
            }
            
            input[type="range"] {
                width: 100%;
            }
            
            .lesson-btn {
                padding: 0.6rem;
                font-size: 0.9rem;
            }

            .container {
                padding: 1rem;
            }

            h2 {
                font-size: 2rem;
                margin:1rem;
            }
            .lesson-title{
                margin-bottom: 0.5rem;
            }
            .nav.minimized {
                transform: scale(0.7);
                opacity: 0.8;
                margin: -2rem 0 -1rem;
            }

            .nav.minimized button{
                padding: 1rem 0.5rem;
            }
            textarea {
                font-size: 1.1rem;
            }

            .controls {
                flex-direction: column;
                gap: 1rem;
            }
            .nav {
                gap: 0.5rem;
            }
            
            .nav button {
                padding: 1.8rem 1rem;
            }
            .lesson-words {
                font-size: 1.2rem;
                line-height: 2;
            }

            .overlay {
                padding: 1rem;
                padding-bottom: 80px;
            }    
           .input-area {
                width: 100%;
                padding: 1rem;
            }    
            .fixed-controls {
                grid-template-columns: 1fr 1fr;
                padding: 0.5rem;
            }
            .fixed-controls {
                padding: 0.75rem;
                gap: 0.75rem;
            }
            .fixed-controls button {
                padding: 0.5rem 1rem;
            }
            .fixed-controls .pause-time label {
                    display: none;
            }
        }
    </style>
</head>
<body>
    <div class="container">
        <h2>ËØçËØ≠Âê¨ÂÜô</h2>
        <div class="nav">
            <button onclick="selectGrade('3s1')">‰∏âÂπ¥Á∫ß‰∏äÂÜå</button>
            <button onclick="selectGrade('4s1')">ÂõõÂπ¥Á∫ß‰∏äÂÜå</button>
            <button onclick="selectGrade('5s1')">‰∫îÂπ¥Á∫ß‰∏äÂÜå</button>
            <button onclick="selectGrade('6s1')">ÂÖ≠Âπ¥Á∫ß‰∏äÂÜå</button>
        </div>
        <div class="lessons" id="lessonList"></div>
        <div id="lessonContent" class="lesson-content">
            <div class="lesson-title">
                <span id="titleText"></span>
                <div class="title-controls">
                    <button onclick="toggleReading()" id="playButton">
                        <span class="icon-wrapper" id="playIcon">
                            <svg class="icon play-icon" viewBox="0 0 1024 1024" version="1.1" xmlns="http://www.w3.org/2000/svg">
                                <path d="M881.777778 381.155556l-512-284.444445C199.111111 0 113.777778 102.4 113.777778 227.555556v574.577777c0 170.666667 142.222222 199.111111 256 136.533334l512-284.444445c113.777778-68.266667 113.777778-216.177778 0-273.066666z"></path>
                            </svg>
                        </span>
                        <span id="playText">ÂºÄÂßã</span>
                    </button>
                    <div class="pause-control">
                        <label>ÂÅúÈ°øÊó∂Èó¥: <span id="pauseValue">3</span>Áßí</label>
                        <input type="range" id="pauseTime" min="1" max="10" step="1" value="3">
                    </div>
                </div>
            </div>
            <div class="lesson-words"></div>
        </div>
    </div>

    <div id="wordOverlay" class="word-overlay">
        <div class="word-display"></div>
    </div>

    <script>
        let isReading = false;
        let currentIndex = 0;
        let words = [];
        let repeatCount = 0;
        let isMorningReading = false;
        let currentAudio = null;
        // Ê∑ªÂä†Èü≥È¢ëÁºìÂ≠ò
        const audioCache = new Map(); // ÁºìÂ≠òÂ∑≤Âä†ËΩΩÁöÑÈü≥È¢ëÂØπË±°
        // Ê∑ªÂä†È¢ÑÂä†ËΩΩÊéßÂà∂
        let preloadController = null;
        let isLoading = false; // Ê∑ªÂä†Âä†ËΩΩÁä∂ÊÄÅÊ†áÂøó
        // Ê∑ªÂä†ÈöèÊú∫ÂàÜÁªÑÁõ∏ÂÖ≥ÂèòÈáè
        let randomGroups = [];
        let currentGroupIndex = 0;
        const RANDOM_GROUP_SIZE = 20;

        // ËØçËØ≠Êï∞ÊçÆ
        const wordsData = {
            '3s1': [
                {lesson: 1,words: ['Êó©Êô®', 'Á©øÊà¥', 'È≤úËâ≥', 'ÊúçË£Ö', 'ÊâìÊâÆ', 'Êï¨Áà±', 'ÂõΩÊóó', 'Êï¨Á§º', 'ÂÆâÈùô', 'Ê†ëÊûù', 'Â•ΩÂ•á', 'Â≠îÈõÄ', 'ÊãõÂºï', 'Á≤óÂ£Æ', 'ÊûùÂπ≤', 'ÂΩ±Â≠ê']},
                {lesson: 2,words: ['ÈôçÈõ®', 'ËçíÈáé', 'Ë∑≥Ëàû', 'ÁãÇÊ¨¢', 'ÂäüËØæ', 'ÊîæÂÅá', '‰∫íÁõ∏', 'ÁãÇÈ£é', 'ÊÄ•ÊÄ•ÂøôÂøô', 'Ëá™ÁÑ∂', 'ËÉΩÂ§ü', 'ÂèåËáÇ']},
                {lesson: 5,words: ['Ê∞¥Ê≥•', 'ÊîæÊô¥', 'ÊòéÊúó', '‰∫ÆÊô∂Êô∂', 'ÈáëÈªÑ', 'Èõ®Áè†', 'Èô¢Â¢ô', 'ËêΩÂè∂', 'Èó™Èó™ÂèëÂÖâ', 'Â∞∫Â§¥', 'Âπ≥Â±ï', 'ÊéíÂàó', 'ËßÑÂàô', 'Ê≠åÂî±', 'ËøüÂà∞']},
                {lesson: 6,words: ['Ê∏ÖÂáâ', 'ÁïôÊÑè', 'È¢úÊñô', 'Êû´Âè∂', 'ÈÇÆÁ•®', 'ÊûúÊ†ë', 'ËèäËä±', '‰ªôÂ≠ê', 'Ê∞îÂë≥', 'È¶ôÁîú', 'È¶ôÂë≥', 'Âä†Á¥ß', 'ËøáÂÜ¨', '‰∏∞Êî∂']},
                {lesson: 8,words: ['ÁÅ´Êü¥', 'Âõ¥Ë£ô', 'ÂèØÊÄú', 'Âì™ÊÄï', 'ÊöñÂíå', 'ÁÆÄÁõ¥', 'Ëú°ÁÉõ', '‰∫ÆÂÖâ', 'Âú∞Êùø', 'ÁÉõÂÖâ ', 'Ê∏©Âíå', 'Ëµ∂Á¥ß', 'ÁóõËã¶', 'Ê∏ÖÊô®']},
                {lesson: 10,words: ['ÊóÖË°å', 'Ë¶ÅÂ•Ω', 'Âí±‰ª¨', 'ËçâÂ†Ü', '‰ΩúÂ£∞', 'ÂÅ∑ÂÅ∑', 'Á≠îÂ∫î', 'ÂÅöÊ¢¶', 'Êù•ÂæóÂèä', 'ÊïëÂëΩ', 'ÊãºÂëΩ', 'Â§ßÂêÉ‰∏ÄÊÉä', 'Ê∂àÂåñ', 'ÂΩìÁÑ∂', 'Âá†‰πé', 'Áü•Ëßâ', 'ÁúºÊ≥™']},
                {lesson: 12,words: ['ÂèòÊàê', 'Èó®Êùø', 'ÂáÜÂ§á', 'Êö¥È£éÈõ®', 'ÂÆâÂøÉ', 'Áù°Ëßâ', '‰∏ª‰∫∫', 'Â¢ôÂ£Å', 'ÊØçÈ∏°', 'Ê≥®ÊÑè', 'ËúòËõõ', 'ÊºÇ‰∫Æ', 'Âõ†Ê≠§']},
                {lesson: 15,words: ['ÊØç‰∫≤', 'Â§ñÁ•ñÁà∂', 'Èõ®ÁÇπ', 'ËàπÂ§´', 'Áî®Âäõ', 'ËàπÂ§¥', 'ÁæΩÊØõ', 'Áø†Áªø', 'ÈùôÊÇÑÊÇÑ', 'Áø†È∏ü', 'ÊçïÈ±º']},
                {lesson: 16,words: ['Á™óÂâç', 'Ëí≤ÂÖ¨Ëã±', 'ÁõõÂºÄ', 'Áé©ËÄç', '‰∏ÄÊú¨Ê≠£Áªè', 'ÁªíÊØõ', 'ÂÅáË£Ö', 'ÂìàÊ¨†', 'ÈíìÈ±º', 'ËßÇÂØü', 'ÂêàÊã¢', 'ÊâãÊéå', 'ÊúâË∂£', 'ÂñúÁà±']},
                {lesson: 18,words: ['‰Ωç‰∫é', 'ÈÉ®ÂàÜ', 'È£éÊôØ', '‰ºòÁæé', 'Áâ©‰∫ß', '‰∏∞ÂØå', 'Áõ∏‰∫í', '‰∫§Èîô', 'ÂêÑÁßçÂêÑÊ†∑', 'ÊàêÁæ§ÁªìÈòü', 'Ê∏∏Âä®', 'Â†ÜÁßØ', 'ÂÆùË¥µ', 'ËÇ•Êñô', 'Á•ñÂõΩ', '‰∫ã‰∏ö']},
                {lesson: 19,words: ['Êµ∑Êª®', 'Ë°óÈÅì', 'Êù•Êù•ÂæÄÂæÄ', 'Ê∏îÊ∞ë', 'ÈÅçÂú∞', 'ËøúÂ§Ñ', 'Ê±ΩÁ¨õ', 'ËàπÈòü', 'Êª°ËΩΩ', 'Èì∂ÂÖâÈó™Èó™', 'Èù†Â≤∏', 'ÂàùÂ§è', 'Êï£Âèë', 'Èô§‰∫Ü', 'Êï¥Ê¥Å']},
                {lesson: 20,words: ['‰∏úÂåó', 'ËÑëË¢ã', '‰∏•‰∏•ÂÆûÂÆû', 'Êå°‰Ωè', 'ËßÜÁ∫ø', 'Ëä±Âùõ', 'ÊòæÂæó', 'ËãçÁø†', 'È£ûËàû', 'ÂêçË¥µ', 'ËçØÊùê', 'Èõ™Ëä±', 'Â∑®Â§ß', 'ÂÆùÂ∫ì']},
                {lesson: 21,words: ['ÁæéÂ¶ô', 'Èü≥‰πêÂÆ∂', 'ÊºîÂ•è', 'ÊÑüÂèó', 'ÊøÄÂä®', 'ÂêàÂ•è', '‰πêÊõ≤', 'ÂÖÖÊª°', '‰πêÂô®', 'Èõ®Êª¥', 'Êª¥Á≠î', 'ÊâÄÊúâ', 'Ê≤≥ÊµÅ', 'ËΩªÂø´', 'ÂëäËØâ']},
                {lesson: 22,words: ['È´òËøú', '‰∏áÁâ©', 'È∫ªÈõÄ', 'ËöÇËöÅ', 'Êê¨ÂÆ∂', 'ÂãáÊï¢', 'Á≤æÁ•û', 'Ë∂£Âë≥', 'È≤úÁæé', 'Â¶ÇÂêå', 'Ê∏©Êüî', 'ÊëáÊëÜ', 'ÂÄíÂΩ±', 'Êó†Á©∑', 'Êó†Â∞Ω', '‰πêË∂£']},
                {lesson: 23,words: ['Áà∂‰∫≤', 'Á´•Âπ¥', 'ÈõæËíôËíô', 'ËΩªÂ£∞', 'ÁîüÊÄï', 'ÊÉäÂä®', 'Ê∞îÊÅØ', 'ÊÄªÊòØ', 'ÊäñÂä®', 'Èú≤Ê∞¥', 'ÂëºÂê∏', 'Êó∂Âàª', 'Áåé‰∫∫', 'ÁøÖËÜÄ', 'Ê≤âÈáç']},
                {lesson: 25,words: ['ÈÉäÂ§ñ', 'ÂÖªÁóÖ', 'Ë∑≥Âä®', 'Ê¨¢Âø´', 'Ë∞∑Á≤í', 'Áî∑Â≠©', 'ÊàñËÄÖ', '‰∏•ÂØí', 'Êú¨Êù•', 'ÂèØÊÉú', 'ËÇØÂÆö', 'ËØöÂÆû']},
                {lesson: 26,words: ['ÊâãÊúØÂè∞', 'ÈòµÂú∞', 'ÊàòÊñó', 'ÊâìÂìç', 'Ê∞îÁÑ∞', 'ÂàöÂàö', '‰∏çÊñ≠', 'ÊøÄÁÉà', 'ÁúºÁêÉ', 'Ë°Ä‰∏ù', 'ÁÉüÈõæ', '‰ªçÁÑ∂', 'ÂèñÂá∫', 'ÂåÜÂåÜ', 'Á¶ªÂºÄ', 'Âç±Èô©', 'ËΩ¨Âëä']}
            ],
            '4s1': [
                {lesson: 1,words: ['Â•áËßÇ', 'ÂÜúÂéÜ', 'ÊçÆËØ¥', 'ÂÆΩÈòî', '‰∫∫Â±±‰∫∫Êµ∑', 'ÊªöÂä®', 'È°øÊó∂', 'ÈÄêÊ∏ê', 'ÁäπÂ¶Ç', 'ÈΩêÂ§¥Âπ∂Ëøõ', 'Â±±Â¥©Âú∞Ë£Ç', 'ÈúéÊó∂', '‰ΩôÊ≥¢', '‰æùÊóß']},
                {lesson: 2,words: ['ÊüîÂíå', 'ÈπÖÂçµÁü≥', 'Ê≤≥Â∫ä', 'Êñ∞È≤ú', '‰øÆË°•', 'ÂùëÂùëÊ¥ºÊ¥º', 'Â∫ÑÁ®º', 'È£é‰øó', 'Ëë°ËêÑ', 'Êª°ÊÑè', 'Ê∞¥Á®ª', 'ÊàêÁÜü', 'ÊãõÂæÖ', '‰º†ËØ¥']},
                {lesson: 5,words: ['Ë±åË±Ü', 'ÊåâÁÖß', 'ÊöñÊ¥ãÊ¥ã', 'ËàíÈÄÇ', 'ÈªëÊöó', 'ÊÅêÊÄï', 'ÂÉµÁ°¨', '‰∏∞Êª°', 'Á≠âÂæÖ', 'Âº∫Â£Æ', 'ËôöÂº±', 'ËÄêÂøÉ', 'ÊÑâÂø´', 'ÂÖ¥Â•ã', 'ÊõæÁªè', 'Ê∞¥Ê≤ü', 'Ê¥ãÊ∫¢', 'ÊÑüÊøÄ']},
                {lesson: 6,words: ['ËöäÂ≠ê', 'ÁÅµÂ∑ß', 'ÁßëÂ≠¶ÂÆ∂', 'Ê®™‰∏ÉÁ´ñÂÖ´', 'Áª≥Â≠ê', 'ËãçËùá', 'ËØÅÊòé', 'ÂèçÂ§ç', 'Á†îÁ©∂', 'Èõ∑Ëææ', 'ÊòæÁ§∫', 'È©æÈ©∂Âëò']},
                {lesson: 7,words: ['ÂëºÈ£éÂî§Èõ®', '‰∏ñÁ∫™', 'ÊäÄÊúØ', 'ÊîπÂèò', 'Á®ãÂ∫¶', 'Ë∂ÖËøá', 'ËÖæ‰∫ëÈ©æÈõæ', 'ÂπªÊÉ≥', 'ÂéüÂ≠êÊ†∏', 'Â••Áßò', 'Êó•Áõä', 'ËÅîÁ≥ª', 'Áâ©Ë¥®', 'Âì≤Â≠¶', '‰ªª‰Ωï', 'ÂàõÈÄ†', 'ÊîπÂñÑ']},
                {lesson: 10,words: ['Áà¨Â±±Ëôé', 'ÊìçÂú∫', 'Â´©Á∫¢', 'ËàíÊúç', 'ÂùáÂåÄ', 'ÈáçÂè†', 'Á©∫Èöô', 'Âè∂ÊüÑ', 'ÂèçÈù¢', 'Ëß¶Ëßí', 'ÂºØÊõ≤', 'ÁªÜÂ∞è', 'ÁóïËøπ', 'Áûß‰∏çËµ∑', 'Áâ¢Âõ∫', '‰ºëÊÉ≥']},
                {lesson: 11,words: ['‰ΩèÂÆÖ', '‰∏¥Êó∂', 'ÂäüÂ§´', 'ÈöèÈÅáËÄåÂÆâ', 'ÊÖéÈáç', 'ÈÄâÊã©', '‰ΩèÂùÄ', '‰ºòËâØ', 'Ê¥ûÁ©¥', 'Â§ßÂéÖ', 'ÂçßÂÆ§', '‰∏ìÂÆ∂', 'Âç≥‰Ωø', 'Âπ≥Êï¥', 'Ê∏ÖÊ¥Å', 'Âç´Áîü', 'Áñ≤Âä≥']},
                {lesson: 12,words: ['ÁùÅÁúº', 'Èªë‰πé‰πé', 'ÁøªË∫´', 'ÊñßÂ§¥', 'ÁºìÁºì', '‰∏äÂçá', '‰∏ãÈôç', 'Á≤æÁñ≤ÂäõÁ´≠', 'Ë°ÄÊ∂≤', 'Â•îÊµÅ‰∏çÊÅØ', 'Ê±óÊØõ', 'ËåÇÁõõ', 'ÊªãÊ∂¶', 'Èõ®Èú≤']},
                {lesson: 14,words: ['‰∫∫Èó¥', 'ÊÇ≤ÊÉ®', 'ÊÉÖÊôØ', 'Âç±ÂÆ≥', 'ÁåõÂÖΩ', '‰∏•Âéâ', 'Êï¨‰Ω©', 'ÊÇÑÊÇÑ', 'ÂùöÂÆö', 'ËøùÊäó', 'Áã†ÂøÉ', 'Â∞ñÂà©', 'ËëóÂêç', 'ÊÑ§ÊÑ§‰∏çÂπ≥', 'Ëé∑Âæó']},
                {lesson: 16,words: ['ÊâìÁåé', 'ÁåõÁÉà', 'Êó†ÂèØÂ•à‰Ωï', 'ÊãçÊâì', 'Âò¥Ëßí', 'ÂàÜÊòé', 'ÁâôÈΩø', 'ÁªùÊúõ', 'Â∞ñÂè´', 'Ë∫´Ë∫Ø', 'Êé©Êä§', 'ÂπºÂÑø', 'ÊêèÊñó', 'Â∫ûÂ§ß', 'ÂÆâÁÑ∂', 'Âº∫Â§ß', 'ÂäõÈáè']},
                {lesson: 17,words: ['ÂÅáÊó•', '‰∫ëÂΩ©', 'Áü≥Á∫ß', 'ÂèëÈ¢§', 'Âπ¥Á∫™', 'Â•ãÂäõ', 'Áå¥Â≠ê', 'Á∫™Âøµ', 'Ëæ´Â≠ê', 'Á¨ëÂëµÂëµ', 'ÈºìËàû', 'Â±ÖÁÑ∂']},
                {lesson: 18,words: ['ÁîöËá≥', 'È°ΩÁöÆ', 'ÊïÖÊÑè', 'ËÑñÂ≠ê', 'ÊâëÊâì', 'Âøô‰π±', 'Â§ßÊ¶Ç', 'Âä©Â®Å', 'Êòè‰π±', 'ÁªìÂÆû', 'Ê±âÂ≠ê', 'ÂèØÁ¨ë', 'Êó†ÁºòÊó†ÊïÖ', 'Âπ≥ÁôΩ']},
                {lesson: 19,words: ['ÊñáËâ∫', 'Ë°®Êºî', 'Áè≠Á∫ß', 'ËßíËâ≤', 'ÊÆ∑Âàá', 'ÊúüÂæÖ', 'ÊéíÁªÉ', 'Âç±Êú∫', 'ÈÄöÊÉÖËææÁêÜ', 'ÂÖÖÂàÜ', 'Ëá™‰ø°', 'ÊèêÁ§∫', 'Êí§Êç¢', 'Á¥ßÂº†', 'ÂìÑÂ†ÇÂ§ßÁ¨ë', 'Á†∏ÈîÖ', 'Ëá≥‰ªä']},
                {lesson: 20,words: ['ÂÜ∞Â§©Èõ™Âú∞', 'Âê¶Âàô', 'ÊóãËΩ¨', 'ÈáçÊï¥ÊóóÈºì', 'ÂÜµ‰∏î', 'ÂæóÂøÉÂ∫îÊâã', 'Ê§ÖÂ≠ê', 'Â∞§ÂÖ∂', 'ÊâãËàûË∂≥Ëπà', 'ÊÅ®‰∏çÂæó', 'È¢ÑÊñô', '‰∏çÂä®Â£∞Ëâ≤', 'È°ΩÂº∫', 'Ê∫ÉË¥•', 'Ëá™Ë±™']},
                {lesson: 22,words: ['‰∏•ËÇÉ', 'ÈªòÈªò', 'Ê∏ÖÊô∞', 'Êä±Ë¥ü', 'ËÉ∏ÊÄÄ', 'ËµûÂèπ', 'Ë°®ÊÉÖ', 'ÂøòÊÄÄ', 'ÊûúÁúü', 'ÈùûÂá°', 'Â∑¶È°æÂè≥Áõº', 'ÊåáÊúõ', 'ËÆ≠Êñ•', '‰Ωì‰ºö', 'ÂàÜÈáè', 'Âìç‰∫Æ']},
                {lesson: 26,words: ['ÁÆ°ÁêÜ', '‰∫∫ÁÉü', 'Â™≥Â¶á', 'Êñ∞Â®ò', 'ÁúºÁùÅÁùÅ', 'Âπ≤Êó±', 'ËøéÊé•', 'ÂæíÂºü', 'Èù¢Â¶ÇÂúüËâ≤', 'Ê±ÇÈ•∂', 'ÁÅåÊ∫â', 'Êî∂Êàê']}
            ],
            '5s1': [
                {lesson: 1,words: ['Á≤æÂ∑ß', 'ÈÖçÂêà', 'Ë∫´ÊÆµ', 'ÈÄÇÂÆú', 'ÁôΩÈπ§', 'ÁîüÁ°¨', 'ÂØªÂ∏∏', 'ÂøòÂç¥', 'ÈïúÂå£', 'Â≠§Áã¨', 'ÊÇ†ÁÑ∂', 'ÂóúÂ•Ω', 'ÈªÑÊòè', 'ÊÅ©ÊÉ†', 'Áæé‰∏≠‰∏çË∂≥']},
                {lesson: 2,words: ['Êí≠Áßç', 'ÊµáÊ∞¥', 'Âê©Âíê', 'Ê¶®Ê≤π', 'Áà±ÊÖï', '‰ΩìÈù¢']},
                {lesson: 3,words: ['Ê°ÇËä±', 'ÊáÇÂæó', 'Á≥ïÈ•º', 'Ëå∂Âè∂']},
                {lesson: 5,words: ['Ê±õÊúü', 'Â±±Ê¥™', 'Êö¥Âèë', 'Èó¥Èöî', 'ÂîØÁã¨', 'ÊáíÊÉ∞', 'Âπ≥Á®≥', 'ÈöæÂÖç', '‰øùÊåÅ', 'Âπ≥Ë°°', 'ÂçèË∞É', 'ÁæéÊÑü', 'Á§∫ÊÑè', 'ÂÆ∂Â∏∏', 'ÂÅáÂ¶Ç', 'ÁêÜÊâÄÂΩìÁÑ∂', 'ËÅîÁªì']},
                {lesson: 6,words: ['Êó†‰ª∑‰πãÂÆù', 'Âè¨ÈõÜ', 'Â§ßËá£', 'ÂïÜËÆÆ', 'Ëß£ÂÜ≥', 'ÂÆåÂ•ΩÊó†Áº∫', 'Áß∞Ëµû', 'ÂïÜÈáè', 'ÂÖÅËØ∫', 'ÂÖ∏Á§º', 'ÊâøËØ∫', 'ÂæóÁΩ™', 'ËÉÜÊÄØ', 'Á§∫Âº±', 'ÊãíÁªù', 'ËÅå‰Ωç', 'ÂêåÂøÉÂçèÂäõ']},
                {lesson: 7,words: ['ÁåéË±π', 'ÂÜ†ÂÜõ', 'ÈòµÂú∞', '‰øØÂÜ≤', 'È´òÈÄüÂÖ¨Ë∑Ø', 'Êê≠‰πò', 'ÁÅ´ÁÆ≠', 'ÂèëÂä®Êú∫', 'ÊâãÁîµÁ≠í', 'Ëµ§ÈÅì', 'Èöæ‰ª•ÁΩÆ‰ø°']},
                {lesson: 8,words: ['‰æµÁï•', '‰øÆÁ≠ë', 'Á≤âÁ¢é', 'È¢ÜÂØº', '‰∏çËÆ°ÂÖ∂Êï∞', 'ÊâìÂáª', 'ÂùöÊåÅ', 'Ê∏∏Âáª', 'ÈöêËîΩ', 'Èô∑Âùë', 'ÊãêÂºØ', 'Êó†Á©∑Êó†Â∞Ω']},
                {lesson: 9,words: ['ÁåéÁâ©', 'ÈÖ¨Ë∞¢', 'ÁèçÂÆù', 'ÂèÆÂò±', 'Â§çÊ¥ª', 'ËÆÆËÆ∫', 'Â¥©Â°å', 'ÁÑ¶ÊÄ•', 'ÂèëË™ì', 'ÂçÉÁúü‰∏áÁ°Æ', 'Ë∞éËØù', 'ËøüÂª∂', 'ÁÅæÈöæ', 'ÈïáÂÆö', 'ÂêéÊÇî', 'ÊÇ≤Áóõ', 'ÈúáÂ§©Âä®Âú∞']},
                {lesson: 10,words: ['Â´ÇÂ≠ê', 'Ââ©È•≠', 'Â∫äÈì∫', '‰∫≤ÂØÜ', 'Á¨ëÂòªÂòª', 'ÊàêÂÆ∂Á´ã‰∏ö', 'Â•ΩÊ≠π', 'Á®ÄÁΩï', 'Â¶ªÂ≠ê', 'ÊôöÈúû', '‰∏ÄËæàÂ≠ê', 'ÁªìÂ©ö', 'Áõ∏‰æù‰∏∫ÂëΩ']},
                {lesson: 14,words: ['ÊØÅÁÅ≠', '‰∏çÂèØ‰º∞Èáè', 'ÊçüÂ§±', '‰∏æ‰∏ñÈóªÂêç', '‰ºóÊòüÊã±Êúà', 'ÈáëÁ¢ßËæâÁÖå', 'ÊÆøÂ†Ç', 'Ë±°ÂæÅ', '‰ªøÁÖß', 'ËØóÊÉÖÁîªÊÑè', 'Âª∫Á≠ë', 'Êº´Ê∏∏', 'Â§©ÂçóÊµ∑Âåó', 'È•±Ëßà', 'È£éÊôØÂêçËÉú', 'Â¢ÉÁïå', 'ÂÆè‰ºü', 'Â•áÁèçÂºÇÂÆù', 'ÂçöÁâ©È¶Ü', 'Êê¨Ëøê', 'ÈîÄÊØÅ', 'ÁΩ™ËØÅ', 'Â•âÂëΩ']},
                {lesson: 16,words: ['ÂØ∏Ëçâ‰∏çÁîü', 'ÊëÑÊ∞èÂ∫¶', 'ÁπÅÊÆñ', 'Á≤ÆÈ£ü', 'ÁÖ§ÁÇ≠', 'È£òÊµÆ', 'Âú∞Âå∫', 'ÊùÄËèå', 'Ê≤ªÁñó']},
                {lesson: 17,words: ['ÊùæÈº†', '‰πñÂ∑ß', 'Ê∏ÖÁßÄ', 'Áé≤Áèë', 'Â∞æÂ∑¥', 'Ê≠áÂáâ', 'ËøΩÈÄê', 'Ë≠¶Ëßâ', 'Ëß¶Âä®', 'ÂÖâÊªë', 'Áã≠Á™Ñ', 'ÂãâÂº∫', 'ËÑ±ËêΩ', 'Ê¢≥ÁêÜ']},
                {lesson: 18,words: ['ÈïøÁØá', 'ËøûÁª≠', 'ÂπøÊí≠', 'ÈìÅË∑Ø', 'ËæûÈÄÄ', 'Êå£Èí±', 'ÂéãÊäë', 'ÊΩÆÊπø', 'ÂøôÁ¢å', 'Èò¥Êöó', 'ÈÖ∑Êöë', 'ÁÇéÂ§è', 'Âô™Â£∞', 'Áò¶Âº±', 'ËÑäËÉå', 'Âè£ÁΩ©', 'ÂøçÂøÉ', 'Êú∫Ê¢∞', 'Êï∞ËêΩ', 'ÊùÉÂà©']},
                {lesson: 19,words: ['Ê∏îËàπ', 'Êä•ËÄÉ', 'ÊïôËÆ≠', 'ÂøÉÁñº', 'Â∏≠Â≠ê', 'Â∫ô‰ºö', 'ÂΩ©Êéí', 'Á≥ñÊûú', 'ÊäΩË±°', 'ÂêØËø™', 'ÊØï‰∏ö', 'ÂØÑÂÆø', 'Â∏àËåÉ', 'Ë∑ØË¥π', 'ËΩÆÊç¢', 'È¢ÜÁï•', 'ÊÑèÂ¢É', 'Á£®ÁÅ≠', 'Á≤æËá¥']},
                {lesson: 22,words: ['ÈôÜÁª≠', 'ÁôΩËå´Ëå´', 'Ê¶ïÊ†ë', 'Á∫†Ê≠£', '‰∏çÂèØËÆ°Êï∞', 'ÁÖßËÄÄ', 'Ê∂®ÊΩÆ', 'Ê†ëÊ¢¢', 'Â∫îÊé•‰∏çÊöá', 'ÁîªÁúâ']},
                {lesson: 25,words: ['ËàÖÁà∂', 'Ê¥•Ê¥•ÊúâÂë≥', 'Ëã±ÈõÑ', 'Êó†Èôê', '‰∏ÄÁü•ÂçäËß£', 'Ëø∞ËØ¥', 'ÂéâÂÆ≥', 'ËçíÂîê', 'ËæõÈÖ∏', 'ËÆøÈóÆ', '‰π¶Âàä', 'ÁÉ¶Áêê', 'ÁúüÊÉÖÂÆûÊÑü', 'Ë¥®Êú¥', 'ÂàäÁâ©']}
            ],
            '6s1': [
                {lesson: 1,words: ['ÁªøÊØØ', 'Á∫øÊù°', 'ÊüîÁæé', 'ÊÉäÂèπ', 'ÂõûÂë≥', 'ÁõÆÁöÑÂú∞', 'Ê¥íËÑ±', 'ÁéªÁíÉ', 'Ë°£Ë£≥', 'ÂΩ©Ëôπ', 'È©¨ËπÑ', 'ÁÉ≠‰πé‰πé', 'Á§ºË≤å', 'ÊãòÊùü', '‰∏æÊùØ', 'ÊÑü‰∫∫', '‰ºöÂøÉ', 'ÂæÆÁ¨ë']},
                {lesson: 2,words: ['ÂÆÖÈô¢', 'ÂπΩÈõÖ', '‰ºèÊ°à', 'ÊµëÊµä', 'Á¨®Êãô', 'ÁúºÂ∏ò', 'ÂèÇÂ∑Æ', 'ÂçïËñÑ', 'ÊñáÊÄù', 'Ê¢¶ÊÉ≥', 'Ëø∑Ëíô', 'Ê®°Á≥ä', 'Ëä±Ëïæ', 'ÊÅ∞Â¶Ç', 'Ë°£Ë•ü', 'ÊÅçÁÑ∂', 'ÊÑÅÊÄ®', 'È°∫ÂøÉ', 'Âπ≥Ê∑°']},
                {lesson: 6,words: ['Êó•ÂØá', 'Â•ãÊàò', 'Èô©Ë¶Å', 'ÊâãÊ¶¥Âºπ', 'ÂÖ®Á•ûË¥ØÊ≥®', 'ÊÇ¨Â¥ñ', 'Êñ©ÈíâÊà™ÈìÅ', 'ÁÉ≠Ë°ÄÊ≤∏ËÖæ', 'ÊîÄÁôª', 'Â±ÖÈ´ò‰∏¥‰∏ã', 'Â±±Ê¥û', 'Á≤âË∫´Á¢éÈ™®', 'ÈõπÂ≠ê', 'Â±πÁ´ã', 'Áú∫Êúõ', 'ÂñúÊÇ¶', 'Â£ÆÁÉà', 'Ë±™Ëøà', '‰∏çÂ±à']},
                {lesson: 7,words: ['ÊîøÂ∫ú', 'Â§ñÂÆæ', 'Ê±áÈõÜ', 'È¢ÑÂÆö', 'ÁàÜÂèë', 'ÊéíÂ±±ÂÄíÊµ∑', 'Â∞±‰Ωç', 'ÂÆ£Âëä', 'ÈõÑ‰ºü', 'ËÇÉÈùô', 'ËØ≠Ë∞É', 'ÂÆåÊØï', 'Ê£ÄÈòÖ', 'Âà∂Êúç', 'Âù¶ÂÖã', '‰∏ÄËá¥', 'Ë∑ùÁ¶ª', 'È´òÊΩÆ', 'Ê¨°Â∫è']},
                {lesson: 10,words: ['Â®ÅÈ£éÂáõÂáõ', 'ÁñôÁò©', 'Áñ≤ÂÄ¶', 'ÂëÜÂ§¥ÂëÜËÑë', 'ÂÜ∞Ê£ç', 'Âà´Âá∫ÂøÉË£Å', 'ÊäÄÈ´ò‰∏ÄÁ≠π', 'Ê©°ÁöÆ', 'Ë∑∫ËÑö', 'Â§ßÊ≠•ÊµÅÊòü', 'È¢ìÁÑ∂', 'Êö¥Èú≤Êó†ÈÅó', 'Ê≤Æ‰∏ß', 'ÊäΩÂ±â', 'ÂøµÂøµÊúâËØç', 'Âøò‰πéÊâÄ‰ª•', 'ÂøÉÊª°ÊÑèË∂≥']},
                {lesson: 11,words: ['ÂèëËææ', 'ÁêÜËÆ∫', 'Á±ª‰ºº', 'ÁåúÊµã', 'Ëµ∑Ê∫ê', 'ÈÄÇÂΩì', 'Ê∞ßÊ∞î', 'Êèê‰æõ', 'ËÉΩÊ∫ê', 'ÊòºÂ§ú', 'Á•ûÁßò', 'ËßÇÊµã', 'ÊãçÊëÑ', 'ÊñëÁÇπ', 'ÊûØËêé', 'Âπ≤Áá•', 'Ê≤ôÊº†', 'Á£ÅÂú∫', 'Âõ†Á¥†', 'ËÄÉÂØü', 'ÂüπÂÖª']},
                {lesson: 13,words: ['ÂíÜÂìÆ', 'ÊÉäÊÖå', 'ÂóìÂ≠ê', 'Ë∑åË∑åÊíûÊíû', 'Êã•Êà¥', 'Ê≤ôÂìë', 'ÂÖöÂëò', 'ÂëªÂêü', 'Â∫üËØù', 'ÂêûÊ≤°', 'ÁåõÁÑ∂']},
                {lesson: 14,words: ['Ê∏îÂ§´', 'Ê±πÊ∂åÊæéÊπÉ', 'È£éÊö¥', 'ËΩ∞È∏£', 'ÂøÉÊÉäËÇâË∑≥', 'Êä±ÊÄ®', 'ÂÄæÂê¨', 'Êé¢Êúõ', 'ÁÖßÈ°æ', 'Âõ∞Èöæ', 'Èò¥ÂÜ∑', 'Ëá™‰ΩúËá™Âèó', 'ÊπøÊ∑ãÊ∑ã', 'Ê∏îÁΩë', 'Á≥üÁ≥ï', 'ÂøßËôë', 'ÂêéËÑëÂã∫']},
                {lesson: 16,words: ['Ê¥ªÁîüÁîü', 'È´òÊ¢Å', 'ËãîËóì', 'ËçâÂù™', 'ÁîòËîó', 'ÁÄëÂ∏É', 'Â¢ûÂä†', 'ÁºùÈöô', 'ËΩØÁªµÁªµ', 'Ë∞öËØ≠', 'ÂÜú‰ΩúÁâ©', 'Â∞ΩÈáè']},
                {lesson: 17,words: ['ÊñóÁØ∑', 'ÊÉÖÂÜµ', 'Ë¢ñÂ≠ê', 'Áì¶Ëìù', 'Ë°£Êüú', 'È¢ÑÊä•', 'ÂñßÈóπ', 'ÈÅÆÁõñ', 'ËÆ≤Â∫ß', 'ÈÖ±Ê≤π', 'ÈÄóÂºï', 'Âò¥Âîá']},
                {lesson: 19,words: ['Êô∂Ëéπ', 'ÊëáÁØÆ', 'Â£ÆËßÇ', 'ÂíåË∞ê', 'ËµÑÊ∫ê', 'ÊúâÈôê', 'Áüø‰∫ß', 'Êó†ÁßÅ', 'ÊÖ®ÊÖ∑', 'ËäÇÂà∂', 'ÊûØÁ´≠', 'Ë¥°ÁåÆ', 'ÊØÅÂùè', 'Êª•Áî®', 'ÁîüÊÄÅ', 'ËÆæÊÉ≥', '‰æãÂ¶Ç', 'Âü∫Âú∞', 'ÁõÆÁùπ', 'Â≠êÂ≠ô']},
                {lesson: 23,words: ['Ë∞±ÂÜô', 'Èí¢Áê¥', 'ÂπΩÈùô', 'Êñ≠Êñ≠Áª≠Áª≠', 'ËåÖÂ±ã', 'Â§±Êòé', 'Á∫ØÁÜü', 'Ê∏ÖÂπΩ', 'Áê¥ÈîÆ', 'ÊôØË±°', 'Èô∂ÈÜâ']},
                {lesson: 25,words: ['‰∏ÄÊúõÊó†ÈôÖ', 'ÂÆ∂ÊôØ', 'ÈÉëÈáç', '‰æõÂìÅ', 'Á•≠Âô®', 'ËÆ≤Á©∂', 'ÁõºÊúõ', 'Âé®Êàø', 'ÊØ°Â∏Ω', 'È°πÂúà', 'Âà∫Áå¨', '‰º∂‰øê', 'ÁªèÂéÜ', 'ÊΩÆÊ±õ']},
                {lesson: 26,words: ['È¢ÑÂëä', 'ÊòèÊ≤â', 'ÈîôÁªº', 'ÊæÑÁ¢ß', 'Ëç°Êºæ', 'Ëß£Êï£', 'ÈÄÄÁº©', 'Áò¶Ââä', 'ÊµÆÂä®', 'Áû¨Èó¥', 'ÂáùËßÜ', 'È™§ÁÑ∂', 'Âáå‰π±', 'Èô°ÁÑ∂']} 
            ],
        };

        // ÈÄâÊã©Âπ¥Á∫ß
        function selectGrade(grade) {
            currentGrade = grade;
            
            // ÊúÄÂ∞èÂåñÂØºËà™Ê†è
            const nav = document.querySelector('.nav');
            nav.classList.add('minimized');
            
            // ÁßªÈô§ÂÖ∂‰ªñÊåâÈíÆÁöÑÊøÄÊ¥ªÁä∂ÊÄÅ
            document.querySelectorAll('.nav button').forEach(btn => {
                btn.classList.remove('active');
            });
            
            // ÊøÄÊ¥ªÂΩìÂâçÊåâÈíÆ
            document.querySelector(`button[onclick="selectGrade('${grade}')"]`).classList.add('active');
            
            // ÊòæÁ§∫ËØæÁ®ãÂàóË°®
            showLessons();
            
            // Ê∑°ÂÖ•ÊòæÁ§∫ËØæÁ®ãÂàóË°®
            setTimeout(() => {
                document.querySelector('.lessons').classList.add('show');
            }, 100);
        }

        // ÊòæÁ§∫ËØæÊñáÂàóË°®
        function showLessons() {
            const lessonList = document.getElementById('lessonList');
            lessonList.innerHTML = '';
            
            // ÊòæÁ§∫ÊâÄÊúâËØæÁ®ãÊåâÈíÆ
            wordsData[currentGrade].forEach(lesson => {
                const btn = document.createElement('button');
                btn.className = 'lesson-btn';
                btn.textContent = `Á¨¨${lesson.lesson}ËØæ`;
                
                btn.onclick = () => {
                    if (isReading) {
                        stopReading();
                    }
                    document.querySelectorAll('.lesson-btn').forEach(b => {
                        b.classList.remove('active');
                    });
                    btn.classList.add('active');
                    showLessonContent(lesson);
                };
                lessonList.appendChild(btn);
            });

            // Ê∑ªÂä†ÈöèÊú∫ËØçËØ≠ÊåâÈíÆ
            const randomBtn = document.createElement('button');
            randomBtn.className = 'lesson-btn';
            randomBtn.textContent = 'ÈöèÊú∫';
            
            randomBtn.onclick = () => {
                if (isReading) {
                    stopReading();
                }
                document.querySelectorAll('.lesson-btn').forEach(b => {
                    b.classList.remove('active');
                });
                randomBtn.classList.add('active');
                showRandomWords();
            };
            lessonList.appendChild(randomBtn);

            // Ê∑ªÂä†Êó©ËØªÊåâÈíÆ
            const morningBtn = document.createElement('button');
            morningBtn.className = 'lesson-btn';
            morningBtn.textContent = 'Êó©ËØª';
            
            morningBtn.onclick = () => {
                if (isReading) {
                    stopReading();
                }
                document.querySelectorAll('.lesson-btn').forEach(b => {
                    b.classList.remove('active');
                });
                morningBtn.classList.add('active');
                showMorningReading();
            };
            lessonList.appendChild(morningBtn);
        }

        // Ê∑ªÂä†ÂàÜÁªÑÂáΩÊï∞
        function createRandomGroups() {
            // Ëé∑ÂèñÂΩìÂâçÂπ¥Á∫ßÁöÑÊâÄÊúâËØçËØ≠
            const allWords = wordsData[currentGrade].reduce((acc, lesson) => {
                return acc.concat(lesson.words);
            }, []);
            
            // Êâì‰π±Êï∞ÁªÑÈ°∫Â∫è
            for (let i = allWords.length - 1; i > 0; i--) {
                const j = Math.floor(Math.random() * (i + 1));
                [allWords[i], allWords[j]] = [allWords[j], allWords[i]];
            }
            
            // ÂàÜÁªÑ
            randomGroups = [];
            for (let i = 0; i < allWords.length; i += RANDOM_GROUP_SIZE) {
                randomGroups.push(allWords.slice(i, i + RANDOM_GROUP_SIZE));
            }
            currentGroupIndex = 0;
        }

        // ‰øÆÊîπÊòæÁ§∫ÈöèÊú∫ËØçÂáΩÊï∞
        function showRandomWords() {
            // Â¶ÇÊûúÊ≤°ÊúâÂàÜÁªÑÊàñÊâÄÊúâÁªÑÈÉΩÊòæÁ§∫ÂÆå‰∫ÜÔºåÈáçÊñ∞ÂàÜÁªÑ
            if (randomGroups.length === 0 || currentGroupIndex >= randomGroups.length) {
                createRandomGroups();
            }
            
            const currentGroup = randomGroups[currentGroupIndex];
            currentGroupIndex++;
            
            // ÊòæÁ§∫ÈöèÊú∫ËØçËØ≠
            const content = document.getElementById('lessonContent');
            content.classList.add('active');
            
            // Êñ∞Ê†áÈ¢òÊòæÁ§∫ÂΩìÂâçÁªÑÂíåÊÄªÁªÑÊï∞
            const totalGroups = randomGroups.length;
            document.getElementById('titleText').textContent = 
                `ÈöèÊú∫ËØçËØ≠ (${currentGroupIndex}/${totalGroups}ÁªÑ)`;
            
            content.querySelector('.lesson-words').textContent = currentGroup.join('„ÄÅ');
            
            // Â¶ÇÊûúÊòØÊúÄÂêé‰∏ÄÁªÑÔºåÂú®Ê†áÈ¢ò‰∏≠ÊèêÁ§∫
            if (currentGroupIndex === randomGroups.length) {
                document.getElementById('titleText').textContent += ' - ÊúÄÂêé‰∏ÄÁªÑ';
            }
        }

        // ‰øÆÊîπÊòæÁ§∫ËØæÊñáÂÜÖÂÆπÂáΩÊï∞
        function showLessonContent(lesson) {
            const content = document.getElementById('lessonContent');
            content.classList.add('active');
            
            document.getElementById('titleText').textContent = `Á¨¨${lesson.lesson}ËØæ`;
            content.querySelector('.lesson-words').textContent = lesson.words.join('„ÄÅ');
            
            // Âπ≥ÊªëÊªöÂä®Âà∞ÂÜÖÂÆπÂå∫Âüü
            content.scrollIntoView({ behavior: 'smooth', block: 'start' });
        }

        // ‰øÆÊîπ readCurrentWord ÂáΩÊï∞‰∏≠ÁöÑËØ≠Èü≥ËÆæÁΩÆ
        async function readCurrentWord() {
            if (!isReading || currentIndex >= words.length) {
                stopReading();
                return;
            }

            const currentWord = words[currentIndex];
            const nextWord = words[currentIndex + 1];
            const basePauseTime = parseFloat(document.getElementById('pauseTime').value);
            const extraPauseTime = Math.max(0, currentWord.length - 2);
            const totalPauseTime = (basePauseTime + extraPauseTime) * 1000;

            try {
                let audio;
                // Â¶ÇÊûúÊòØÁ¨¨‰∏Ä‰∏™ËØçËØ≠ÊàñËÄÖËøòÊ≤°ÊúâÁºìÂ≠òÔºåÈúÄË¶ÅÂä†ËΩΩÂπ∂ÁºìÂ≠ò
                if (!audioCache.has(currentWord)) {
                    const audioUrl = getAudioUrl(currentWord);
                    audio = new Audio(audioUrl);
                    await new Promise((resolve, reject) => {
                        audio.addEventListener('canplaythrough', resolve, { once: true });
                        audio.addEventListener('error', reject, { once: true });
                    });
                    // ÁºìÂ≠òÂéüÂßãÈü≥È¢ëÂØπË±°
                    audioCache.set(currentWord, audio);
                } else {
                    // ‰ΩøÁî®Â∑≤ÁºìÂ≠òÁöÑÈü≥È¢ë
                    audio = audioCache.get(currentWord);
                }

                audio.currentTime = 0;

                if (currentAudio) {
                    currentAudio.pause();
                }
                currentAudio = audio;
                
                currentAudio.onended = async () => {
                    repeatCount++;
                    if (repeatCount < 2) {
                        // Á¨¨‰∏ÄÈÅçÊí≠ÊîæÁªìÊùüÔºåÂáÜÂ§áÁ¨¨‰∫åÈÅçÔºà‰ΩøÁî®ÁºìÂ≠òÔºâ
                        setTimeout(() => {
                            currentAudio.currentTime = 0;
                            currentAudio.play();
                        }, 100);
                    } else {
                        // Á¨¨‰∫åÈÅçÊí≠ÊîæÁªìÊùü
                        repeatCount = 0;
                        if (isMorningReading) {
                            showWordOverlay(currentWord);
                        }
                        currentIndex++;

                        if (nextWord) {
                            // ÂêåÊó∂ÂºÄÂßãÈ¢ÑÂä†ËΩΩÂíåÁ≠âÂæÖÈó¥ÈöîÊó∂Èó¥
                            Promise.all([
                                // È¢ÑÂä†ËΩΩ‰ªªÂä°
                                (async () => {
                                    if (!audioCache.has(nextWord)) {
                                        const nextAudioUrl = getAudioUrl(nextWord);
                                        const nextAudio = new Audio(nextAudioUrl);
                                        await new Promise((resolve) => {
                                            nextAudio.addEventListener('canplaythrough', () => {
                                                audioCache.set(nextWord, nextAudio);
                                                resolve();
                                            }, { once: true });
                                            nextAudio.addEventListener('error', resolve, { once: true });
                                            nextAudio.load();
                                        });
                                    }
                                })(),
                                // Á≠âÂæÖÈó¥ÈöîÊó∂Èó¥‰ªªÂä°
                                new Promise(resolve => setTimeout(resolve, totalPauseTime))
                            ]).then(() => {
                                if (isMorningReading) {
                                    hideWordOverlay();
                                }
                                readCurrentWord();
                            });
                        } else {
                            stopReading();
                        }
                    }
                };
                
                await currentAudio.play();
            } catch (error) {
                console.error('ËØ≠Èü≥Êí≠ÊîæÈîôËØØ:', error);
                stopReading();
            }
        }

        function getAudioUrl(word) {
            const params = new URLSearchParams({
                input: word,
                voice: 'zh-CN-YunxiaNeural',
                rate: '-30'
            });
            
            return `https://tts.mzzsfy.eu.org/v1/audio/speech?${params.toString()}`;
        }

        function stopReading() {
            isReading = false;
            isMorningReading = false;
            // ÂèñÊ∂àÊ≠£Âú®ËøõË°åÁöÑÈ¢ÑÂä†ËΩΩ
            if (preloadController) {
                preloadController.abort();
                preloadController = null;
            }
            if (currentAudio) {
                currentAudio.pause();
                currentAudio = null;
            }
            // Ê∏ÖÁêÜÁºìÂ≠ò
            audioCache.clear();
            hideWordOverlay();
            
            // Êõ¥Êñ∞ÊåâÈíÆÁä∂ÊÄÅ
            const btn = document.getElementById('playButton');
            const iconWrapper = document.getElementById('playIcon');
            const text = document.getElementById('playText');
            btn.classList.remove('reading');
            iconWrapper.innerHTML = `
                <svg class="icon play-icon" viewBox="0 0 1024 1024" version="1.1" xmlns="http://www.w3.org/2000/svg">
                    <path d="M881.777778 381.155556l-512-284.444445C199.111111 0 113.777778 102.4 113.777778 227.555556v574.577777c0 170.666667 142.222222 199.111111 256 136.533334l512-284.444445c113.777778-68.266667 113.777778-216.177778 0-273.066666z"></path>
                </svg>
            `;
            text.textContent = 'ÂºÄÂßã';

            // ÊòæÁ§∫ËØçËØ≠ÂàóË°®
            document.querySelector('.lesson-words').classList.remove('reading');
        }

        function toggleReading() {
            if (isReading) {
                stopReading();
            } else {
                // ‰ªé lesson-words Ëé∑ÂèñËØçËØ≠
                const wordsText = document.querySelector('.lesson-words').textContent;
                words = wordsText.split('„ÄÅ').filter(word => word.trim() !== '');
                startReading();
            }
        }

        function startReading() {
            if (!navigator.onLine) {
                alert('ËØ∑Ê£ÄÊü•ÁΩëÁªúËøûÊé•');
                return;
            }
            if (isReading) return;
            
            if (words.length === 0) {
                alert('Ê≤°ÊúâÂèØÊúóËØªÁöÑËØçËØ≠ÔºÅ');
                return;
            }

            isReading = true;
            currentIndex = 0;
            repeatCount = 0;
            
            // Êñ∞ÊåâÈíÆÁä∂ÊÄÅ
            const btn = document.getElementById('playButton');
            const iconWrapper = document.getElementById('playIcon');
            const text = document.getElementById('playText');
            btn.classList.add('reading');
            iconWrapper.innerHTML = `
                <svg class="icon stop-icon" viewBox="0 0 1024 1024" version="1.1" xmlns="http://www.w3.org/2000/svg">
                    <path d="M722.9375 933.875H301.0625a210.9375 210.9375 0 0 1-210.9375-210.9375V301.0625a210.9375 210.9375 0 0 1 210.9375-210.9375h421.875a210.9375 210.9375 0 0 1 210.9375 210.9375v421.875a210.9375 210.9375 0 0 1-210.9375 210.9375z"></path>
                </svg>
            `;
            text.textContent = 'ÂÅúÊ≠¢';

            // ÈöêËóèËØçËØ≠ÂàóË°®
            document.querySelector('.lesson-words').classList.add('reading');
            
            readCurrentWord();
        }

        // Ê∑ªÂä†ÂÅúÈ°øÊó∂Èó¥ÊªëÂùóÊéß
        document.addEventListener('DOMContentLoaded', function() {
            const pauseSlider = document.getElementById('pauseTime');
            const pauseValue = document.getElementById('pauseValue');
            
            // ‰ªéÊú¨Âú∞Â≠òÂÇ®Ëé∑ÂèñÁ≠âÂæÖÊó∂Èó¥ÔºåÂ¶ÇÊûúÊ≤°ÊúâÂàô‰ΩøÁî®ÈªòËÆ§ÂÄº 3
            const savedPauseTime = localStorage.getItem('pauseTime') || '3';
            
            // ËÆæÁΩÆÊªëÂùóÂíåÊòæÁ§∫ÂÄº
            pauseSlider.value = savedPauseTime;
            pauseValue.textContent = savedPauseTime;
            
            // ÁõëÂê¨ÊªëÂùóÂèòÂåñÔºå‰øùÂ≠òÂà∞Êú¨Âú∞Â≠òÂÇ®
            pauseSlider.addEventListener('input', function() {
                pauseValue.textContent = this.value;
                localStorage.setItem('pauseTime', this.value);
            });

            // ÈªòËÆ§ÈöêËóèËØæÊñáÂÜÖÂÆπ
            document.getElementById('lessonContent').classList.remove('active');
            
            // ÂàùÂßãÂåñËØæÁ®ãÂàóË°®ÁöÑÈöêËóèÁä∂ÊÄÅ
            document.querySelector('.lessons').classList.remove('show');
        });

        // Ê∑ªÂä†Êó©ËØªÂäüËÉΩ
        function showMorningReading() {
            // Ëé∑ÂèñÂΩìÂâçÂπ¥Á∫ßÁöÑÊâÄÊúâËØçËØ≠Âπ∂Êâì‰π±È°∫Â∫è
            const allWords = wordsData[currentGrade].reduce((acc, lesson) => {
                return acc.concat(lesson.words);
            }, []);
            
            // Êâì‰π±Êï∞ÁªÑÈ°∫Â∫è
            for (let i = allWords.length - 1; i > 0; i--) {
                const j = Math.floor(Math.random() * (i + 1));
                [allWords[i], allWords[j]] = [allWords[j], allWords[i]];
            }
            
            // ÊòæÁ§∫ËØçËØ≠ÂàóË°®Ôºà‰ΩÜ‰ºöË¢´ÈÅÆÁΩ©Ôºâ
            const content = document.getElementById('lessonContent');
            content.classList.add('active');
            
            document.getElementById('titleText').textContent = 'Êó©ËØª';
            content.querySelector('.lesson-words').textContent = allWords.join('„ÄÅ');
            
            // ËÆæÁΩÆÂÖ®Â±ÄÂèòÈáè
            words = allWords;
            isMorningReading = true;
        }

        // Ê∑ªÂä†ÈÅÆÁΩ©Â±ÇÊéßÂà∂ÂáΩÊï∞
        function showWordOverlay(word) {
            const overlay = document.getElementById('wordOverlay');
            const display = overlay.querySelector('.word-display');
            
            // ËÆæÁΩÆËØçËØ≠ÈïøÂ∫¶Â±ûÊÄß
            display.setAttribute('data-length', word.length);
            
            display.textContent = word;
            overlay.style.display = 'flex';
            // ‰ΩøÁî® setTimeout Á°Æ‰øù display:flex ÁîüÊïàÂêéÂÜçÊ∑ªÂä† show Á±ª
            setTimeout(() => {
                overlay.classList.add('show');
            }, 10);
        }

        function hideWordOverlay() {
            const overlay = document.getElementById('wordOverlay');
            overlay.classList.remove('show');
            setTimeout(() => overlay.style.display = 'none', 300);
        }
    </script>
</body>
</html>
