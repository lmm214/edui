<!DOCTYPE html>
<html lang="zh-CN">
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <meta name="theme-color" content="#000000" />
    <title>è¿åŠ¨åæ•ˆ ï½œ Motion After-Effects</title>
    <link rel="shortcut icon" href="../favicon.ico">
    <link rel="stylesheet" href="../style.css" />
  </head>

  <body class="illusion">
    <div class="wrapper">
      <div class="optical-toy themeA">
        <div class="menu">
          <div class="mainMenu">
            <h2><a href="/cuojue">å…‰å­¦ç©å…·</a></h2>
            <h3>è¿åŠ¨åæ•ˆ</h3>
          </div>

          
          <div class="submenu">
            <a href="../bamboozled/">ä¸‹ä¸€ä¸ªé”™è§‰ â€º</a>
          </div>
          
          <div class="submenu fit"><a href="#about">ğŸ‘‡äº†è§£æ›´å¤š</a></div>
        </div>

        <div class="the-toy">
          <canvas id="canvas" class=""></canvas>
        </div>
        <div class="instructions">
          <div class="how-and-what">
            <h2>å¦‚ä½•/ä»€ä¹ˆ?</h2>
            <p>ç›¯ç€å®ƒçœ‹ä¸€ä¼šå„¿ï¼Œæ‚¨å°±å¯ä»¥å°†æ•ˆæœè½¬ç§»åˆ°å±å¹•ä¸Šã€‚</p>
          </div>
          <div class="controls"></div>
        </div>
      </div>
    </div>

    <div id="about" class="about">
      <p><strong>å†…å®¹:</strong>è¿™ç§è§†é”™è§‰ï¼ˆè™½ç„¶æˆ‘ä¸å®Œå…¨ç¡®å®šå®ƒå±äºé”™è§‰ç±»åˆ«ï¼‰å±•ç¤ºäº†å½“æ‚¨è§‚å¯Ÿç§»åŠ¨å›¾æ¡ˆä¸€æ®µæ—¶é—´ï¼Œç„¶åå¼€å§‹çœ‹å…¶ä»–ä¸œè¥¿æ—¶ä¼šå‘ç”Ÿçš„æ•ˆæœã€‚è¿™å¯ä»¥åœ¨è‡ªç„¶ç•Œä¸­è‡ªç„¶å‘ç”Ÿï¼Œä¾‹å¦‚è§‚çœ‹ç€‘å¸ƒï¼Œç„¶åè§‚å¯Ÿæ—è¾¹çš„æ‚¬å´–ã€‚</p>

      <p><strong>æ“ä½œ:</strong>åœ¨æ­¤ç¤ºä¾‹ä¸­ï¼Œæ‚¨éœ€è¦å‡è§†èºæ—‹çš„ä¸­å¿ƒï¼Œèºæ—‹æ­£åœ¨è½¬å‘ä¸€ä¸ªæ–¹å‘ï¼Œè€Œå¤–éƒ¨åˆ™æœç›¸åæ–¹å‘æ—‹è½¬ã€‚å¤§çº¦äºŒååˆ°ä¸‰åç§’åï¼Œæ‚¨å¯ä»¥å°†ç›®å…‰ç§»å¼€ï¼Œæœ€å¥½æ˜¯å¢™ä¸Šã€å¤–é¢æˆ–æ‚¨çš„æ‰‹ä¸Šçš„ä¸€äº›è‰ºæœ¯å“ï¼Œæ‚¨ä¼šçœ‹åˆ°åå‘è¿åŠ¨æ­£åœ¨å‘ç”Ÿã€‚</p>

      <p><strong>è§£é‡Š:</strong>è¿™æ˜¯å¦ä¸€ä¸ªä¸ç¥ç»å…ƒå¦‚ä½•å¤„ç†æ•°æ®æœ‰å…³çš„é—®é¢˜ï¼Œæˆ‘ä¸å¤ªæ˜ç™½ï¼Œä½†å¾ˆä¹æ„å¼•ç”¨ã€‚</p>

      <blockquote>
        <p>ç¼–ç ç‰¹å®šè¿åŠ¨çš„ç¥ç»å…ƒéšç€æš´éœ²äºä¸æ–­ç§»åŠ¨çš„åˆºæ¿€çš„æ—¶é—´çš„æ¨ç§»è€Œå‡å°‘å…¶ååº”ï¼›è¿™å°±æ˜¯ç¥ç»é€‚åº”</p>
      </blockquote>

      <blockquote>
        <p>ä¸€ç§ç†è®ºè®¤ä¸ºï¼Œå¯¹é™æ­¢ç‰©ä½“ï¼ˆä¾‹å¦‚ç€‘å¸ƒæ—è¾¹çš„å²©çŸ³ï¼‰çš„æ„ŸçŸ¥è¢«ç¼–ç ä¸ºç¼–ç æ‰€æœ‰å¯èƒ½è¿åŠ¨æ–¹å‘çš„ç¥ç»å…ƒçš„åŸºçº¿å“åº”ä¹‹é—´çš„å¹³è¡¡ã€‚</p>
      </blockquote>

    <script src="../js/tweakpane.min.js"></script>
       
    <script>
      const canvas=document.querySelector('canvas'),context=canvas.getContext('2d');canvas.width=window.innerWidth,canvas.height=window.innerHeight;let numArms=4;const numLoops=10,armLength=1.5,armSpacing=.2,angleFactor=2*Math.PI/(numArms*numLoops),lineWidth=10,clipRadius=.3*Math.min(window.innerWidth,window.innerHeight),bgCanvas=document.createElement('canvas');bgCanvas.width=canvas.width*3,bgCanvas.height=canvas.height*3;const bgContext=bgCanvas.getContext('2d'),innerBgCanvas=document.createElement('canvas');innerBgCanvas.width=canvas.width*3,innerBgCanvas.height=canvas.height*3;const innerBgContext=innerBgCanvas.getContext('2d'),centerX=bgCanvas.width/2,centerY=bgCanvas.height/2;let bgColor='#fff',strokeColor='rgb(48, 62, 78)',speed=2;function drawSpiral(a,c=!1){let b=0;for(let e=0;e<numArms;e++){const f=e*(2*Math.PI/numArms);a.beginPath(),a.lineWidth=lineWidth;const g=Math.PI/180;let d=f;a.moveTo(centerX+b*Math.cos(d),centerY+b*Math.sin(d));for(let e=0;e<numLoops*360;e++){d+=g*(c?-1:1);const h=e*angleFactor,f=armLength*h,i=centerX+(b+f)*Math.cos(d),j=centerY+(b+f)*Math.sin(d);a.lineTo(i,j)}a.strokeStyle=strokeColor,a.stroke(),b+=armSpacing}}let canDrawImage=!1;const image=new Image;image.src="/favicon.ico",image.onload=()=>{canDrawImage=!0,drawTomato()};function drawTomato(){if(!canDrawImage)return;const a=16,b=16,c=Math.floor(window.innerWidth/2-a/2),d=Math.floor(window.innerHeight/2-b/2);context.drawImage(image,c,d,a,b)}drawSpiral(bgContext),drawSpiral(innerBgContext,!0);function drawRotated(a){context.fillStyle=bgColor,context.fillRect(0,0,canvas.width,canvas.height),context.save(),context.translate(canvas.width/2,canvas.height/2),context.rotate(a),context.drawImage(bgCanvas,-centerX,-centerY),context.restore()}function drawInnerSpiralRotated(a){context.save(),context.translate(canvas.width/2,canvas.height/2),context.rotate(-a),context.beginPath(),context.arc(0,0,clipRadius,0,2*Math.PI),context.closePath(),context.fillStyle=bgColor,context.fill(),context.clip(),context.drawImage(innerBgCanvas,-centerX,-centerY),context.restore()}let angle=0;function animate(){angle+=Math.PI/180*speed,context.clearRect(0,0,canvas.width,canvas.height),drawRotated(angle),drawInnerSpiralRotated(angle),drawTomato(),requestAnimationFrame(animate)}animate();let controlParams={'Color A':bgColor,'Color B':strokeColor,Speed:speed};const pane=new Tweakpane.Pane({container:document.querySelector('.controls')}),controls=pane.addFolder({title:'Customize',expanded:!1});controls.addInput(controlParams,'Speed',{min:0,max:15,step:.1}).on('change',a=>{speed=a.value}),controls.addInput(controlParams,'Color A',{picker:'inline',expanded:!0}).on('change',a=>{bgColor=a.value,drawSpiral(bgContext),drawSpiral(innerBgContext,!0)}),controls.addInput(controlParams,'Color B',{picker:'inline',expanded:!0}).on('change',a=>{strokeColor=a.value,drawSpiral(bgContext),drawSpiral(innerBgContext,!0)})
    </script>
    
</body>
</html>