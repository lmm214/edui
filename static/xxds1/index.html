<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>25年全国青少年信息素养大赛（低段练习题）</title>
    <style>
        * {
            box-sizing: border-box;
            margin: 0;
            padding: 0;
        }

        body {
            font-family: -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, "Helvetica Neue", Arial, sans-serif;
            line-height: 1.6;
            color: #2c3e50;
            background: linear-gradient(135deg, #f6f8fc 0%, #e9ecef 100%);
            padding: 20px;
            min-height: 100vh;
        }

        .container,.type-nav,.option-button,#next-btn{
            max-width: 800px;
            margin: 0 auto 1rem;
            background: rgba(255, 255, 255, 0.95);
            border-radius: 20px;
            padding: 10px;
            box-shadow: 0 10px 30px rgba(0, 0, 0, 0.08);
            border: 1px solid rgba(255, 255, 255, 0.2);
        }
        
        .nav-container {
            display: flex;
            justify-content: space-between;
            align-items: center;
            max-width: 400px;
            margin: 1.2rem auto;
        }

        .type-nav {
            display: flex;
            gap: 10px;
        }

        .nav-button {
            padding: 8px 16px;
            border: 1px solid rgba(224, 224, 224, 0.5);
            border-radius: 20px;
            background: rgba(255, 255, 255, 0.9);
            font-size: 1em;
            cursor: pointer;
            transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1);
        }

        .nav-button:hover {
            background: rgba(255, 255, 255, 1);
            border-color: #3498db;
            transform: translateY(-2px);
        }

        .nav-button.active {
            background: linear-gradient(135deg, #2196F3, #1976D2);
            color: white;
            border-color: transparent;
        }

        .score-display {
            text-align: right;
            font-size: 1.2em;
        }

        .progress {
            margin-left: 15px;
            background: linear-gradient(135deg, #ff9a9e, #fad0c4);
            color: white;
            padding: 8px 20px;
            border-radius: 20px;
            box-shadow: 0 3px 10px rgba(255, 154, 158, 0.2);
        }

        .score-display span {
            background: linear-gradient(135deg, #00b09b, #96c93d);
            color: white;
            padding: 8px 20px;
            border-radius: 20px;
            box-shadow: 0 3px 10px rgba(0, 176, 155, 0.2);
        }

        .question-number {
            color: #2196F3;
            font-size: 1rem;
            margin-bottom: 10px;
            font-weight: bold;
        }
        
        .question-type {
            display: inline-block;
            padding: 4px 8px;
            border-radius: 4px;
            font-size: 0.9em;
            font-weight: bold;
            margin:0 20px 10px 0;
            background: #f0f0f0;
            color: #555;
        }

        .question-text {
            font-size: 1.2em;
            margin-bottom: 20px;
            line-height: 1.5;
        }

        #options {
            display: flex;
            flex-wrap: wrap;
            gap: 15px;
            margin-bottom: 20px;
        }

        .option-button {
            flex: 1 1 calc(50% - 7.5px);
            min-width: 200px;
            padding: 15px 20px;
            border: 1px solid rgba(224, 224, 224, 0.5);
            border-radius: 12px;
            background: rgba(255, 255, 255, 0.9);
            font-size: 1.1em;
            text-align: left;
            cursor: pointer;
            transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1);
            box-shadow: 0 2px 8px rgba(0, 0, 0, 0.04);
        }

        .option-button:hover {
            background: rgba(255, 255, 255, 1);
            border-color: #3498db;
            transform: translateY(-2px);
            box-shadow: 0 4px 12px rgba(52, 152, 219, 0.15);
        }

        .option-button.selected {
            background: rgba(67, 198, 172, 0.2);
            color: #2c3e50;
            border: 2px solid #43c6ac;
            box-shadow: 0 2px 8px rgba(67, 198, 172, 0.3);
        }

        .option-button.confirmed {
            background: linear-gradient(135deg, #43c6ac, #28a745);
            color: white;
            border-color: transparent;
            box-shadow: 0 4px 12px rgba(40, 167, 69, 0.2);
        }

        .option-button.wrong {
            background: linear-gradient(135deg, #ff416c, #dc3545);
            color: white;
            border-color: transparent;
            box-shadow: 0 4px 12px rgba(220, 53, 69, 0.2);
        }

        .option-button:disabled {
            cursor: not-allowed;
            opacity: 0.7;
        }

        #explanation {
            margin: 20px 0;
            padding: 20px;
            border-radius: 15px;
            background: rgba(248, 249, 250, 0.8);
            border: 1px solid rgba(0, 0, 0, 0.05);
        }

        .correct-answer {
            color: #4CAF50;
            font-size: 1.2em;
            margin-bottom: 10px;
            font-weight: bold;
        }

        .wrong-answer {
            color: #f44336;
            font-size: 1.2em;
            margin-bottom: 10px;
            font-weight: bold;
        }

        .explanation {
            color: #666;
            font-size: 1.1em;
            line-height: 1.5;
        }

        #next-btn {
            display: block;
            width: 100%;
            padding: 15px;
            margin-top: 20px;
            border: none;
            border-radius: 12px;
            background: linear-gradient(135deg, #2196F3, #1976D2);
            color: white;
            font-size: 1.2em;
            cursor: pointer;
            transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1);
            box-shadow: 0 4px 15px rgba(33, 150, 243, 0.3);
        }

        #next-btn:hover {
            background: linear-gradient(135deg, #1976D2, #1565C0);
            transform: translateY(-2px);
            box-shadow: 0 6px 20px rgba(33, 150, 243, 0.4);
        }

        .final-results {
            text-align: center;
            font-size: 1.2em;
            line-height: 2;
        }

        .final-results p {
            margin: 10px 0;
        }

        @media (max-width: 600px) {
            body {
                padding: 10px;
            }

            .container {
                padding: 15px;
            }

            .question-text {
                font-size: 1.1em;
            }

            #options {
                gap: 10px;
            }

            .option-button {
                flex: 1 1 calc(50% - 5px);
                min-width: 0;
                font-size: 1em;
                padding: 12px 15px;
            }
        }
    #confirm-btn {
    display: block;
    width: 100%;
    padding: 15px;
    margin-top: 20px;
    border: none;
    border-radius: 12px;
    background: linear-gradient(135deg, #43c6ac, #28a745);
    color: white;
    font-size: 1.2em;
    cursor: pointer;
    transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1);
    box-shadow: 0 4px 15px rgba(67, 198, 172, 0.3);
}

#confirm-btn:hover {
    background: linear-gradient(135deg, #28a745, #218838);
    transform: translateY(-2px);
    box-shadow: 0 6px 20px rgba(40, 167, 69, 0.4);
}
</style>
</head>
<body>
    <div class="type-nav">
            <button class="nav-button active" data-type="all">全部</button>
            <button class="nav-button" data-type="single">单选</button>
            <button class="nav-button" data-type="multiple">多选</button>
            <button class="nav-button" data-type="judge">判断</button>
    </div>
    <div class="nav-container">
            <div class="score-display">
                得分：<span id="score">0</span>
            </div>
            <div class="progres-display">
                进度：<span class="progress" id="progress">0/0</span>
            </div>
     </div>
     <div class="container">
        <div id="question"></div>
        <div id="options"></div>
        <div id="explanation" style="display: none;"></div>
        <button id="confirm-btn" class="option-button" style="display: none;">确认答案</button>
        <button id="next-btn" style="display: none;">下一题</button>
    </div>
    <script>
// 题目数据
let allQuestions = [{
    "single": [
      {
        "question": "小明的机器人助手需要完成整理书包任务，正确的步骤应该是：①把书本放进书包 ②拉开书包拉链 ③背起书包。哪个顺序是对的？",
        "options": [
          "①→②→③",
          "②→③→①",
          "③→②→①",
          "②→①→③"
        ],
        "answer": "D",
        "explanation": "必须先拉开拉链才能放书本，最后才能背书包，所以正确顺序是②→①→③。",
        "score": 5
      },
      {
        "question": "计算机中，哪个部件负责解释和执行指令？",
        "options": [
          "硬盘",
          "处理器",
          "内存",
          "显示器"
        ],
        "answer": "B",
        "explanation": "处理器（CPU）是计算机的核心部件，负责解释和执行所有来自操作系统和应用程序的指令。它通过执行存储在内存中的指令来控制计算机的其他硬件组件。",
        "score": 5
      },
      {
        "question": "以下哪项是一种加密货币？",
        "options": [
          "比特币",
          "欧元",
          "美元",
          "英镑"
        ],
        "answer": "A",
        "explanation": "比特币是一种去中心化的数字货币，不依赖于任何中央银行或政府。它通过区块链技术实现交易的安全性和透明性，是加密货币市场的先驱。",
        "score": 5
      },
      {
        "question": "观察图形规律：△ ○ □ △ ○ □ _ ，横线处应该填什么？",
        "options": [
          "□",
          "○",
          "△",
          "☆"
        ],
        "answer": "C",
        "explanation": "图形按照△→○→□的顺序循环，第7个位置应该重新开始循环，填△。",
        "score": 5
      },
      {
        "question": "一个数加上 5 等于 10，这个数是多少？",
        "options": [
          "3",
          "5",
          "7",
          "9"
        ],
        "answer": "B",
        "explanation": "根据题目，用 10 减去 5 就能得到这个数是 5。",
        "score": 5
      },
      {
        "question": "小明编写Scratch程序中，角色碰到红色障碍会停止，这属于哪种程序结构？",
        "options": [
          "顺序执行",
          "循环结构",
          "条件判断",
          "变量计算"
        ],
        "answer": "C",
        "explanation": "\"碰到红色就停止\"需要判断条件是否满足，属于条件判断结构。",
        "score": 5
      },
      {
        "question": "以下哪种物品和其它三个不属于同一类？",
        "options": [
          "铅笔",
          "香蕉",
          "草莓",
          "西瓜"
        ],
        "answer": "A",
        "explanation": "铅笔属于文具，其他都是水果类。",
        "score": 5
      },
      {
        "question": "编程中\"重复执行\"的作用，相当于生活中的？",
        "options": [
          "每天按时起床",
          "把一首歌唱三遍",
          "下雨就打伞",
          "先洗手再吃饭"
        ],
        "answer": "B",
        "explanation": "重复执行特定次数对应\"把一首歌唱三遍\"，其他选项分别是顺序结构和条件判断。",
        "score": 5
      },
      {
        "question": "有 7 个气球飞走了 3 个，还剩下几个气球？",
        "options": [
          "3",
          "4",
          "5",
          "6"
        ],
        "answer": "B",
        "explanation": "7 个气球飞走 3 个，用 7 减去 3 得到 4 个，A、C、D 计算错误。",
        "score": 5
      },
      {
        "question": "以下哪项是一种可再生能源？",
        "options": [
          "风能",
          "石油",
          "煤炭",
          "天然气"
        ],
        "answer": "A",
        "explanation": "风能是一种清洁的可再生能源，可以转化为电能。它通过风力涡轮机捕获风的动能，转换为机械能，再通过发电机转换为电能，是一种环保且可持续的能源解决方案。",
        "score": 5
      },
      {
        "question": "根据特征分类：会飞的动物（有羽毛）→ 燕子；不会飞的动物（有羽毛）→ 企鹅；不会飞的动物（无羽毛）→ ？",
        "options": [
          "老鹰",
          "青蛙",
          "鸵鸟",
          "鱼"
        ],
        "answer": "D",
        "explanation": "鱼既不会飞又没有羽毛，而鸵鸟有羽毛但不会飞，青蛙无羽毛但会跳跃。",
        "score": 5
      },
      {
        "question": "以下哪位科学家提出了万有引力定律？",
        "options": [
          "牛顿",
          "爱因斯坦",
          "伽利略",
          "陈景润"
        ],
        "answer": "A",
        "explanation": "艾萨克·牛顿在17世纪提出了万有引力定律，描述了物体间的引力作用。这一定律不仅解释了地球上的重力现象，还解释了天体运动的规律，是物理学的重要基石。",
        "score": 5
      },
      {
        "question": "小华用积木块写了程序：重复执行4次【前进5步 & 右转90度】。最后角色会画出什么图形？",
        "options": [
          "三角形",
          "五边形",
          "正方形",
          "螺旋线"
        ],
        "answer": "C",
        "explanation": "每次循环前进5步并右转90度，4次刚好转满360度，形成闭合的正方形。",
        "score": 5
      },
      {
        "question": "从起点到终点的最短路径，需要多少个指令？（地图示意：↑↑→→↑）",
        "options": [
          "2个↑和3个→",
          "5个↑",
          "2个→和3个↑",
          "4个↑和1个→"
        ],
        "answer": "C",
        "explanation": "最少步数=横向走2步+纵向走3步，其他选项包含冗余动作。",
        "score": 5
      },
      {
        "question": "参照规律，空缺处应该是？▲▲.△△.▲▲.△△.▲▲.___.",
        "options": [
          "▲",
          "△△",
          "▲▲",
          "△"
        ],
        "answer": "B",
        "explanation": "模式为两组▲▲跟随两组△△循环，下一组应接△△。",
        "score": 5
      },
      {
        "question": "三个盒子分别写：红盒：\"奖券在蓝盒\" 蓝盒：\"奖券不在这里\" 黄盒：\"奖券在这里\" 只有1个盒子说真话，奖券在哪儿？",
        "options": [
          "红盒",
          "蓝盒",
          "黄盒",
          "不可能存在"
        ],
        "answer": "C",
        "explanation": "假设黄盒为真则另两盒说谎，符合条件；若其它盒为真会产生矛盾。",
        "score": 5
      },
      {
        "question": "下列哪个是编程中的逻辑运算符？",
        "options": [
          "&&",
          "-",
          "+",
          "++"
        ],
        "answer": "A",
        "explanation": "&& 是逻辑与运算符，用于连接两个条件表达式。如果两个条件都为真，则整个表达式的结果为真。它是编程中常用的控制流语句之一，用于实现条件判断。",
        "score": 5
      },
      {
        "question": "以下哪个单位用于测量电压？",
        "options": [
          "伏特",
          "欧姆",
          "安培",
          "瓦特"
        ],
        "answer": "A",
        "explanation": "伏特是电压的单位，用于衡量电势差。它表示单位电荷在电场中通过时所做的功，是电学中的基本单位之一。",
        "score": 5
      },
      {
        "question": "凸轮机构中，哪种从动件，适用于传力不大的低速机构？",
        "options": [
          "平底从动件",
          "滚子从动件",
          "尖顶从动件",
          "对心直动从动件"
        ],
        "answer": "C",
        "explanation": "尖顶从动件由于接触面积小，压强高，易于磨损，因此适用于传力不大且速度较低的场合。在低速且传力需求不大的情况下，尖顶从动件能够与任意复杂的凸轮轮廓保持接触，实现精确的运动控制。",
        "score": 5
      },
      {
        "question": "小明的程序中有这样一段代码：当按下空格键时→重复2次【移动10步 & 说\"前进！\"1秒】按下空格键后，角色总共移动了多少步？",
        "options": [
          "10步",
          "15步",
          "18步",
          "20步"
        ],
        "answer": "D",
        "explanation": "每次循环移动10步，重复2次共移动20步，说话不影响步数。",
        "score": 5
      },
      {
        "question": "以下哪种凸轮机构用于实现高速场合的运动？",
        "options": [
          "平底从动件",
          "滚子从动件",
          "尖顶从动件",
          "摆动从动件"
        ],
        "answer": "A",
        "explanation": "平底从动件由于接触面积较大，能够更好地分散压力，减少磨损，同时与凸轮之间容易形成油膜，提供良好的润滑条件，使得传动更加平稳且效率高，因此适用于高速场合。",
        "score": 5
      },
      {
        "question": "程序开始时变量分数=0，执行以下操作后分数是多少？第①步 分数+5 → 第②步 分数×2 → 第③步 分数-3",
        "options": [
          "12",
          "7",
          "5",
          "10"
        ],
        "answer": "B",
        "explanation": "0+5=5 → 5×2=10 → 10-3=7，需注意运算顺序。",
        "score": 5
      },
      {
        "question": "要让角色碰到边缘反弹，然后倒立显示，需要组合哪些积木？",
        "options": [
          "碰到边缘反弹 + 旋转方式设为左右翻转",
          "碰到边缘反弹 + 旋转方式设为任意旋转",
          "碰到边缘反弹 + 上下颠倒",
          "碰到边缘反弹 + 隐藏"
        ],
        "answer": "C",
        "explanation": "倒立需要上下颠倒效果，其他选项无法实现倒立。",
        "score": 5
      },
      {
        "question": "执行这段程序后，角色会说哪个数字？变量n=10 重复直到n<5：n=n-2 说n",
        "options": [
          "8",
          "4",
          "2",
          "报错"
        ],
        "answer": "B",
        "explanation": "循环过程：10→8→6→4，当n=4时满足n<5停止循环并输出。",
        "score": 5
      },
      {
        "question": "程序运行后舞台区会出现什么？当绿旗被点击：隐藏 重复10次【克隆自己】当作为克隆体启动时：显示 移到随机位置",
        "options": [
          "10个角色分散在随机位置",
          "10个相同角色重叠",
          "1个角色在随机位置",
          "无任何显示"
        ],
        "answer": "A",
        "explanation": "原角色隐藏后创建10个克隆体，每个克隆体显示并移动到随机位置。",
        "score": 5
      },
      {
        "question": "以下哪位科学家在1831年发现了电磁感应现象？",
        "options": [
          "法拉第",
          "富兰克林",
          "爱迪生",
          "牛顿"
        ],
        "answer": "A",
        "explanation": "迈克尔·法拉第在1831年通过实验发现了电磁感应现象，这一发现为后来的电力工业和电磁学的发展奠定了基础。",
        "score": 5
      },
      {
        "question": "串联电路中，以下哪种说法是正确的？",
        "options": [
          "总电阻等于各电阻之积",
          "总电压等于各元件两端电压之和",
          "总电压等于各元件两端电压之差",
          "总电阻等于各电阻之差"
        ],
        "answer": "B",
        "explanation": "串联电路的特点是电流只有一条路径通过所有的元件，因此电流在每个元件上是相同的。因此总电压是所有元件两端电压的和。",
        "score": 5
      },
      {
        "question": "以下哪种连杆机构，用于将圆周运动，转换为直线往复运动？",
        "options": [
          "曲柄摇杆机构",
          "摇杆连杆机构",
          "曲柄连杆机构",
          "滑块机构"
        ],
        "answer": "C",
        "explanation": "曲柄连杆机构是内燃机中常见的一种机构，它能够将曲轴的圆周运动转换为活塞的直线往复运动，这种转换对于许多机械的动力传递至关重要。",
        "score": 5
      },
      {
        "question": "两个相互啮合的齿轮，大齿轮有100个齿小齿轮有20个齿，大齿轮转动一周小齿轮转动几周？",
        "options": [
          "3周",
          "4周",
          "5周",
          "6周"
        ],
        "answer": "C",
        "explanation": "当两个齿轮相互啮合时，它们转动的齿数是相等的。这意味着一个齿轮转动一周所走过的齿数与另一个齿轮转动一周所走过的齿数相同。",
        "score": 5
      },
      {
        "question": "小明前面有 3 个人，后面有 2 个人，这一排一共有几个人？",
        "options": [
          "4",
          "5",
          "6",
          "7"
        ],
        "answer": "C",
        "explanation": "小明前面 3 人加上后面 2 人，再加上小明自己，3 + 2 + 1 = 6 人。",
        "score": 5
      }
    ],
    "judge": [
      {
        "question": "直升飞机旋翼的飞行控制原理与鸟类飞行时翼尖涡流的控制机制有相似之处。",
        "answer": "对",
        "explanation": "直升飞机旋翼的飞行控制确实与鸟类飞行有相似之处。直升飞机通过改变旋翼桨叶的角度来控制飞行轨迹和升降，这与鸟类通过调整翅膀形状和角度来控制翼尖涡流，进而影响飞行动力的方式类似。",
        "score": 5
      },
      {
        "question": "角色属性中的大小=100%改为大小=50%后，移动速度不会变。",
        "answer": "对",
        "explanation": "大小变化不影响移动速度，速度由移动...步积木的数值决定。",
        "score": 5
      },
      {
        "question": "机器人执行重复3次【前进10步 & 右转90度】后，不会回到起点。",
        "answer": "对",
        "explanation": "右转4次才能回到原方向，3次右转后方向朝左，路径不闭合。",
        "score": 5
      },
      {
        "question": "\"如果碰到红色\"不能和\"如果碰到红色且碰到蓝色\"同时成立。",
        "answer": "对",
        "explanation": "角色同一时间只能碰到一种颜色，无法同时满足两种颜色条件。",
        "score": 5
      },
      {
        "question": "\"重复执行积木\"搭配\"停止全部\"能结束程序。",
        "answer": "对",
        "explanation": "还可以通过条件判断（如重复执行直到...）或手动停止脚本退出循环。",
        "score": 5
      },
      {
        "question": "用克隆自己积木生成的角色，不会自动执行原角色的所有程序。",
        "answer": "对",
        "explanation": "克隆体只执行当作为克隆体启动时下方的程序，原角色其它代码不继承。",
        "score": 5
      },
      {
        "question": "哪怕是量子计算机也不能够在短时间内破解目前的所有加密算法。",
        "answer": "对",
        "explanation": "虽然量子计算机具有强大的计算能力，但目前并不能保证它能够破解所有的加密算法，因为加密算法也在不断进步和更新，以应对量子计算的挑战。",
        "score": 5
      },
      {
        "question": "在直流电动机中，改变电流方向可以导致电机转动方向的改变。",
        "answer": "对",
        "explanation": "在直流电动机中，改变电流方向确实会导致电机转动方向的改变。这是因为电流方向的改变会引起电磁场的方向变化，进而改变作用在转子上的力矩方向，从而改变电机的转动方向。",
        "score": 5
      },
      {
        "question": "凸轮机构可以实现从旋转运动到线性运动的转换，但在所有机械转换装置中不一定是效率最高的。",
        "answer": "对",
        "explanation": "凸轮机构能够实现从旋转运动到线性运动的转换，但并不一定是在所有机械转换装置中效率最高的。效率取决于凸轮和从动件的设计、材料以及制造精度等多种因素。",
        "score": 5
      },
      {
        "question": "履带装置比轮式驱动更适合在不平坦或松软地面上行驶，因为它能提供更大的接地面积和更好的抓地力。",
        "answer": "对",
        "explanation": "履带装置通过其较大的接地面积和连续的地面接触，确实能够在不平坦或松软地面上提供更好的稳定性和抓地力，这使得它比轮式驱动更适合这种环境。",
        "score": 5
      }
    ],
    "multiple": [
        {
            "question": "以下哪些是计算机编程常用的编程语言？",
            "options": [
              "Python",
              "Java",
              "C++",
              "Ruby"
            ],
            "answer": "ABCD",
            "explanation": "Python, Java, C++ 和 Ruby 都是广泛使用的编程语言，各自适用于不同的开发场景。Python以其简洁性和强大的库支持而受欢迎，Java以其跨平台能力和广泛的应用而著称，C++以其性能和系统级编程能力而重要，Ruby则以其优雅的语法和高效的开发效率而受到青睐。",
            "score": 5
          },
          {
            "question": "以下哪些是互联网的安全威胁？",
            "options": [
              "计算机病毒",
              "网络钓鱼",
              "拒绝服务攻击",
              "数据泄露"
            ],
            "answer": "ABCD",
            "explanation": "计算机病毒、网络钓鱼、拒绝服务攻击和数据泄露都是互联网安全中的常见威胁。它们通过不同的方式破坏网络安全，窃取敏感信息，影响网络服务的正常运行。",
            "score": 5
          },
          {
            "question": "在 Scratch 中，以下哪些属于角色的基本属性？",
            "options": [
              "位置",
              "大小",
              "方向",
              "颜色"
            ],
            "answer": "ABCD",
            "explanation": "位置决定角色在舞台上的地点，大小影响角色的尺寸，方向决定角色的朝向，颜色也是角色外观的一种属性，这四个都是角色的基本属性。",
            "score": 5
          },
          {
            "question": "哪些是编程中“循环结构”的作用？",
            "options": [
              "重复执行相同任务",
              "判断条件是否成立",
              "减少代码行数",
              "随机生成数字"
            ],
            "answer": "AC",
            "explanation": "循环的核心是重复执行（A）和简化代码（C），B是条件判断，D与循环无关。",
            "score": 5
          },
          {
            "question": "以下哪些指令可能会出现在 Scratch 的 “控制” 模块中？",
            "options": [
              "当绿旗被点击",
              "重复执行",
              "如果…… 那么",
              "等待"
            ],
            "answer": "ABCD",
            "explanation": "“当绿旗被点击” 用于启动程序，“重复执行” 用于循环操作，“如果…… 那么” 用于条件判断执行，“等待” 用于暂停程序一段时间，它们都属于 “控制” 模块的指令。",
            "score": 5
          },
          {
            "question": "在 Scratch 编程中，想要制作一个动画效果，可能会用到以下哪些操作？",
            "options": [
              "改变角色的造型",
              "移动角色的位置",
              "调整角色的大小",
              "切换舞台背景"
            ],
            "answer": "ABCD",
            "explanation": "改变角色造型可以实现角色动作变化，移动位置能让角色产生位移效果，调整大小可以使角色有缩放变化，切换舞台背景能营造不同场景，这些都能用于制作动画效果。",
            "score": 5
          },
          {
            "question": "以下哪些操作有助于让 Scratch 项目更有趣味性？",
            "options": [
              "添加互动环节，如点击角色触发事件",
              "设置随机元素，如随机出现奖励",
              "制作角色之间的对话",
              "设计多种结局"
            ],
            "answer": "ABCD",
            "explanation": "添加互动环节能增加用户参与感，随机元素带来惊喜，角色对话丰富情节，多种结局让项目有不同走向，都能提升项目趣味性。",
            "score": 5
          },
          {
            "question": "在 Scratch 编程中，关于变量的使用，以下说法正确的是？",
            "options": [
              "可以创建新的变量",
              "能够改变变量的值",
              "可以在舞台上显示变量",
              "变量可用于记录角色的某些状态"
            ],
            "answer": "ABCD",
            "explanation": "用户可以根据需求创建新变量，在程序运行中改变变量值，通过特定指令在舞台显示变量，变量常被用来记录角色得分、生命值等状态。",
            "score": 5
          },
          {
            "question": "以下哪些情况可能会在 Scratch 项目中使用到 “条件判断”？",
            "options": [
              "当角色碰到某个颜色时执行特定动作",
              "当角色的分数达到一定数值时进入新场景",
              "当角色的大小满足一定条件时改变造型",
              "当舞台上某个背景出现时让角色做动作"
            ],
            "answer": "ABCD",
            "explanation": "在这四种情况中，都需要先判断是否满足相应条件（碰到颜色、分数达到数值、大小满足条件、背景出现），再决定是否执行后续动作，都要用到条件判断。",
            "score": 5
          },
          {
            "question": "在 Scratch 中，以下哪些指令与角色的外观相关？",
            "options": [
              "换成…… 造型",
              "说……",
              "显示",
              "隐藏"
            ],
            "answer": "ABCD",
            "explanation": "“换成…… 造型” 改变角色外观造型，“说……” 能在角色旁边显示文字影响外观展示，“显示” 和 “隐藏” 直接控制角色是否在舞台上呈现，都与角色外观相关。",
            "score": 5
          }
    ]
  }];
let questions = [];
let currentQuestionIndex = 0;
let correctCount = 0;
let totalScore = 0;
let currentType = 'all';


// DOM 元素
const questionElement = document.getElementById('question');
const optionsElement = document.getElementById('options');
const explanationElement = document.getElementById('explanation');
const confirmButton = document.getElementById('confirm-btn');
const nextButton = document.getElementById('next-btn');
const scoreElement = document.getElementById('score');
const progressElement = document.getElementById('progress');
const navButtons = document.querySelectorAll('.nav-button');
let selectedOptions = [];

// 初始化
const shuffledSingle = shuffleArray([...allQuestions[0].single]);
const shuffledJudge = shuffleArray([...allQuestions[0].judge]);
const shuffledMultiple = shuffleArray([...allQuestions[0].multiple]);
questions = [...shuffledSingle, ...shuffledJudge, ...shuffledMultiple];
showQuestion();
nextButton.onclick = nextQuestion;

// 随机打乱数组
function shuffleArray(array) {
    for (let i = array.length - 1; i > 0; i--) {
        const j = Math.floor(Math.random() * (i + 1));
        [array[i], array[j]] = [array[j], array[i]];
    }
    return array;
}

// 根据类型筛选题目
function filterQuestionsByType(type) {
    if (type === 'all') return [...shuffledSingle, ...shuffledJudge, ...shuffledMultiple];
    if (type === 'single') return shuffledSingle;
    if (type === 'multiple') return shuffledMultiple;
    if (type === 'judge') return shuffledJudge;
    return [];
}

// 切换题目类型
function switchQuestionType(type) {
    currentType = type;
    questions = filterQuestionsByType(type);
    currentQuestionIndex = 0;
    correctCount = 0;
    totalScore = 0;
    scoreElement.textContent = '0';
    progressElement.textContent = `0/${questions.length}`;
    showQuestion();
}

// 初始化导航按钮事件
navButtons.forEach(button => {
    button.addEventListener('click', () => {
        navButtons.forEach(btn => btn.classList.remove('active'));
        button.classList.add('active');
        switchQuestionType(button.dataset.type);
    });
});

// 显示当前题目
function showQuestion() {
    if (!questions || !questions.length) {
        questionElement.textContent = '正在加载题目...';
        return;
    }
    if (currentQuestionIndex >= questions.length) {
        showFinalResults();
        return;
    }
    // 更新进度显示
    progressElement.textContent = `${currentQuestionIndex + 1}/${questions.length}`;

    const question = questions[currentQuestionIndex];
    // 显示题号和题目
    questionElement.innerHTML = `<div class="question-number"><div class="question-type">${question.options ? (question.answer.length > 1 ? '多选题' : '单选题') : '判断题'}</div>第 ${currentQuestionIndex + 1} 题</div><div class="question-text">${question.question}</div>`;
    optionsElement.innerHTML = '';

    // 创建选项按钮
    if (question.options) {
        question.options.forEach((option, index) => {
            const button = document.createElement('button');
            button.className = 'option-button';
            button.textContent = `${String.fromCharCode(65 + index)}. ${option}`;
            button.onclick = () => selectOption(button, question);
            optionsElement.appendChild(button);
        });
    } else {
        // 判断题选项
        const trueButton = document.createElement('button');
        trueButton.className = 'option-button';
        trueButton.textContent = 'A. 对';
        trueButton.onclick = () => selectOption(trueButton, question);
        optionsElement.appendChild(trueButton);
        
        const falseButton = document.createElement('button');
        falseButton.className = 'option-button';
        falseButton.textContent = 'B. 错';
        falseButton.onclick = () => selectOption(falseButton, question);
        optionsElement.appendChild(falseButton);
    }

    // 隐藏解释和下一题按钮
    explanationElement.style.display = 'none';
    nextButton.style.display = 'none';
}

// 选择选项
function selectOption(button, question) {
    if (question.options && question.answer.length > 1) { // 多选题
        const optionIndex = String.fromCharCode(65 + question.options.indexOf(button.textContent.substring(3)));
        
        if (button.classList.contains('selected')) {
            button.classList.remove('selected');
            selectedOptions = selectedOptions.filter(opt => opt !== optionIndex);
        } else {
            button.classList.add('selected');
            selectedOptions.push(optionIndex);
        }
        
        // 显示确认按钮
        confirmButton.style.display = 'block';
        confirmButton.onclick = () => confirmAnswer(question);
    } else { // 单选题或判断题
        const buttons = optionsElement.getElementsByClassName('option-button');
        Array.from(buttons).forEach(btn => btn.disabled = true);
        
        const isCorrect = question.answer === "对" ? 
    button.textContent.startsWith("A. ") : 
    question.answer === "错" ? 
    button.textContent.startsWith("B. ") : 
    button.textContent.startsWith(question.answer + ". ");
        
        if (isCorrect) {
            button.classList.add('correct');
            correctCount++;
            totalScore += question.score;
            explanationElement.innerHTML = `<div class="correct-answer">✨ 答对啦！</div><div class="explanation">${question.explanation}</div>`;
        } else {
            button.classList.add('wrong');
            Array.from(buttons).forEach(btn => {
                if (checkAnswer(question, btn.textContent)) {
                    btn.classList.add('correct');
                }
            });
            explanationElement.innerHTML = `<div class="wrong-answer">💡 正确答案：${question.answer}</div><div class="explanation">${question.explanation}</div>`;
        }
        
        scoreElement.textContent = totalScore;
        explanationElement.style.display = 'block';
        nextButton.style.display = 'block';
    }
}

function confirmAnswer(question) {
    const buttons = optionsElement.getElementsByClassName('option-button');
    Array.from(buttons).forEach(btn => btn.disabled = true);
    
    const isCorrect = selectedOptions.length === question.answer.length && 
    selectedOptions.every(option => question.answer.includes(option));
    
    if (isCorrect) {
        correctCount++;
        totalScore += question.score;
        explanationElement.innerHTML = `<div class="correct-answer">✨ 答对啦！</div><div class="explanation">${question.explanation}</div>`;
    } else {
        Array.from(buttons).forEach(btn => {
            const optionLetter = btn.textContent.substring(0,1);
            if (question.answer.includes(optionLetter)) {
                btn.classList.add('correct');
            } else if (selectedOptions.includes(optionLetter)) {
                btn.classList.add('wrong');
            }
        });
        explanationElement.innerHTML = `<div class="wrong-answer">💡 正确答案：${question.answer}</div><div class="explanation">${question.explanation}</div>`;
    }
    
    scoreElement.textContent = totalScore;
    explanationElement.style.display = 'block';
    nextButton.style.display = 'block';
    confirmButton.style.display = 'none';
    selectedOptions = [];
}

// 检查答案
function checkAnswer(question, selectedOption) {
    // 判断题的答案验证
    if (question.answer === "对" || question.answer === "错") {
        return question.answer === (selectedOption.startsWith("A. ") ? "对" : "错");
    }
    
    // 选择题的答案验证
    const options = question.options;
    const selectedText = selectedOption.substring(3);
    const optionIndex = options.indexOf(selectedText);
    if (optionIndex === -1) return false;
    
    const optionLetter = String.fromCharCode(65 + optionIndex);
    
    // 多选题答案包含多个字母
    if (question.answer.length > 1) {
        return question.answer.includes(optionLetter);
    }
    
    // 单选题答案是单个字母
    return question.answer === optionLetter;
}

// 下一题
function nextQuestion() {
    currentQuestionIndex++;
    showQuestion();
}

// 显示最终结果
function showFinalResults() {
    const totalQuestions = questions.length;
    const accuracy = (correctCount / totalQuestions * 100).toFixed(1);
    
    questionElement.innerHTML = `<h2>🎉 测试完成!</h2>`;
    optionsElement.innerHTML = `
        <div class="final-results">
            <p>总分：${totalScore}</p>
            <p>正确率：${accuracy}%</p>
            <p>答对题数：${correctCount}/${totalQuestions}</p>
        </div>
    `;
    
    explanationElement.style.display = 'none';
    nextButton.style.display = 'none';
}
    </script>
</body>
</html>